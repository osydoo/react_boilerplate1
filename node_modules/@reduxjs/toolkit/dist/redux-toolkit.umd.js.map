{"version":3,"file":"redux-toolkit.umd.js","sources":["../node_modules/symbol-observable/es/ponyfill.js","../node_modules/symbol-observable/es/index.js","../node_modules/redux/es/redux.js","../node_modules/immer/src/common.js","../node_modules/immer/src/scope.js","../node_modules/immer/src/es5.js","../node_modules/immer/src/proxy.js","../node_modules/immer/src/patches.js","../node_modules/immer/src/immer.js","../node_modules/immer/src/index.js","../node_modules/reselect/es/index.js","../node_modules/redux-devtools-extension/index.js","../src/isPlainObject.ts","../node_modules/redux-thunk/es/index.js","../src/serializableStateInvariantMiddleware.ts","../src/getDefaultMiddleware.ts","../src/configureStore.ts","../src/createAction.ts","../src/mapBuilders.ts","../src/createReducer.ts","../src/createSlice.ts"],"sourcesContent":["export default function symbolObservablePonyfill(root) {\n\tvar result;\n\tvar Symbol = root.Symbol;\n\n\tif (typeof Symbol === 'function') {\n\t\tif (Symbol.observable) {\n\t\t\tresult = Symbol.observable;\n\t\t} else {\n\t\t\tresult = Symbol('observable');\n\t\t\tSymbol.observable = result;\n\t\t}\n\t} else {\n\t\tresult = '@@observable';\n\t}\n\n\treturn result;\n};\n","/* global window */\nimport ponyfill from './ponyfill.js';\n\nvar root;\n\nif (typeof self !== 'undefined') {\n  root = self;\n} else if (typeof window !== 'undefined') {\n  root = window;\n} else if (typeof global !== 'undefined') {\n  root = global;\n} else if (typeof module !== 'undefined') {\n  root = module;\n} else {\n  root = Function('return this')();\n}\n\nvar result = ponyfill(root);\nexport default result;\n","import $$observable from 'symbol-observable';\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nvar randomString = function randomString() {\n  return Math.random().toString(36).substring(7).split('').join('.');\n};\n\nvar ActionTypes = {\n  INIT: \"@@redux/INIT\" + randomString(),\n  REPLACE: \"@@redux/REPLACE\" + randomString(),\n  PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {\n    return \"@@redux/PROBE_UNKNOWN_ACTION\" + randomString();\n  }\n};\n\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\nfunction isPlainObject(obj) {\n  if (typeof obj !== 'object' || obj === null) return false;\n  var proto = obj;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(obj) === proto;\n}\n\n/**\n * Creates a Redux store that holds the state tree.\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\n\nfunction createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {\n    throw new Error('It looks like you are passing several store enhancers to ' + 'createStore(). This is not supported. Instead, compose them ' + 'together to a single function');\n  }\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error('Expected the enhancer to be a function.');\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error('Expected the reducer to be a function.');\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n\n\n  function getState() {\n    if (isDispatching) {\n      throw new Error('You may not call store.getState() while the reducer is executing. ' + 'The reducer has already received the state as an argument. ' + 'Pass it down from the top reducer instead of reading it from the store.');\n    }\n\n    return currentState;\n  }\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n\n\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error('Expected the listener to be a function.');\n    }\n\n    if (isDispatching) {\n      throw new Error('You may not call store.subscribe() while the reducer is executing. ' + 'If you would like to be notified after the store has been updated, subscribe from a ' + 'component and invoke store.getState() in the callback to access the latest state. ' + 'See https://redux.js.org/api-reference/store#subscribe(listener) for more details.');\n    }\n\n    var isSubscribed = true;\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      if (isDispatching) {\n        throw new Error('You may not unsubscribe from a store listener while the reducer is executing. ' + 'See https://redux.js.org/api-reference/store#subscribe(listener) for more details.');\n      }\n\n      isSubscribed = false;\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n    };\n  }\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing “what changed”. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n\n\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error('Actions must be plain objects. ' + 'Use custom middleware for async actions.');\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error('Actions may not have an undefined \"type\" property. ' + 'Have you misspelled a constant?');\n    }\n\n    if (isDispatching) {\n      throw new Error('Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n\n\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error('Expected the nextReducer to be a function.');\n    }\n\n    currentReducer = nextReducer;\n    dispatch({\n      type: ActionTypes.REPLACE\n    });\n  }\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n\n\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object' || observer === null) {\n          throw new TypeError('Expected the observer to be an object.');\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return {\n          unsubscribe: unsubscribe\n        };\n      }\n    }, _ref[$$observable] = function () {\n      return this;\n    }, _ref;\n  } // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n\n\n  dispatch({\n    type: ActionTypes.INIT\n  });\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[$$observable] = observable, _ref2;\n}\n\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n\n\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {} // eslint-disable-line no-empty\n\n}\n\nfunction getUndefinedStateErrorMessage(key, action) {\n  var actionType = action && action.type;\n  var actionDescription = actionType && \"action \\\"\" + String(actionType) + \"\\\"\" || 'an action';\n  return \"Given \" + actionDescription + \", reducer \\\"\" + key + \"\\\" returned undefined. \" + \"To ignore an action, you must explicitly return the previous state. \" + \"If you want this reducer to hold no value, you can return null instead of undefined.\";\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!isPlainObject(inputState)) {\n    return \"The \" + argumentName + \" has unexpected type of \\\"\" + {}.toString.call(inputState).match(/\\s([a-z|A-Z]+)/)[1] + \"\\\". Expected argument to be an object with the following \" + (\"keys: \\\"\" + reducerKeys.join('\", \"') + \"\\\"\");\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n  if (action && action.type === ActionTypes.REPLACE) return;\n\n  if (unexpectedKeys.length > 0) {\n    return \"Unexpected \" + (unexpectedKeys.length > 1 ? 'keys' : 'key') + \" \" + (\"\\\"\" + unexpectedKeys.join('\", \"') + \"\\\" found in \" + argumentName + \". \") + \"Expected to find one of the known reducer keys instead: \" + (\"\\\"\" + reducerKeys.join('\", \"') + \"\\\". Unexpected keys will be ignored.\");\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, {\n      type: ActionTypes.INIT\n    });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error(\"Reducer \\\"\" + key + \"\\\" returned undefined during initialization. \" + \"If the state passed to the reducer is undefined, you must \" + \"explicitly return the initial state. The initial state may \" + \"not be undefined. If you don't want to set a value for this reducer, \" + \"you can use null instead of undefined.\");\n    }\n\n    if (typeof reducer(undefined, {\n      type: ActionTypes.PROBE_UNKNOWN_ACTION()\n    }) === 'undefined') {\n      throw new Error(\"Reducer \\\"\" + key + \"\\\" returned undefined when probed with a random type. \" + (\"Don't try to handle \" + ActionTypes.INIT + \" or other actions in \\\"redux/*\\\" \") + \"namespace. They are considered private. Instead, you must return the \" + \"current state for any unknown actions, unless it is undefined, \" + \"in which case you must return the initial state, regardless of the \" + \"action type. The initial state may not be undefined, but can be null.\");\n    }\n  });\n}\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\n\n\nfunction combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof reducers[key] === 'undefined') {\n        warning(\"No reducer provided for key \\\"\" + key + \"\\\"\");\n      }\n    }\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n\n  var finalReducerKeys = Object.keys(finalReducers);\n  var unexpectedKeyCache;\n\n  if (process.env.NODE_ENV !== 'production') {\n    unexpectedKeyCache = {};\n  }\n\n  var shapeAssertionError;\n\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination(state, action) {\n    if (state === void 0) {\n      state = {};\n    }\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      var warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);\n\n      if (warningMessage) {\n        warning(warningMessage);\n      }\n    }\n\n    var hasChanged = false;\n    var nextState = {};\n\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n\n      if (typeof nextStateForKey === 'undefined') {\n        var errorMessage = getUndefinedStateErrorMessage(_key, action);\n        throw new Error(errorMessage);\n      }\n\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n\n    return hasChanged ? nextState : state;\n  };\n}\n\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(this, arguments));\n  };\n}\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass a single function as the first argument,\n * and get a function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\n\n\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error(\"bindActionCreators expected an object or a function, instead received \" + (actionCreators === null ? 'null' : typeof actionCreators) + \". \" + \"Did you write \\\"import ActionCreators from\\\" instead of \\\"import * as ActionCreators from\\\"?\");\n  }\n\n  var keys = Object.keys(actionCreators);\n  var boundActionCreators = {};\n\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    var actionCreator = actionCreators[key];\n\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n\n  return boundActionCreators;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\nfunction compose() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(void 0, arguments));\n    };\n  });\n}\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\n\nfunction applyMiddleware() {\n  for (var _len = arguments.length, middlewares = new Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function () {\n      var store = createStore.apply(void 0, arguments);\n\n      var _dispatch = function dispatch() {\n        throw new Error(\"Dispatching while constructing your middleware is not allowed. \" + \"Other middleware would not be applied to this dispatch.\");\n      };\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch() {\n          return _dispatch.apply(void 0, arguments);\n        }\n      };\n      var chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(void 0, chain)(store.dispatch);\n      return _objectSpread({}, store, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n\n/*\n * This is a dummy function to check if the function name has been altered by minification.\n * If the function has been minified and NODE_ENV !== 'production', warn the user.\n */\n\nfunction isCrushed() {}\n\nif (process.env.NODE_ENV !== 'production' && typeof isCrushed.name === 'string' && isCrushed.name !== 'isCrushed') {\n  warning('You are currently using minified code outside of NODE_ENV === \"production\". ' + 'This means that you are running a slower development build of Redux. ' + 'You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify ' + 'or setting mode to production in webpack (https://webpack.js.org/concepts/mode/) ' + 'to ensure you have the correct code for your production build.');\n}\n\nexport { createStore, combineReducers, bindActionCreators, applyMiddleware, compose, ActionTypes as __DO_NOT_USE__ActionTypes };\n","export const NOTHING =\n\ttypeof Symbol !== \"undefined\"\n\t\t? Symbol(\"immer-nothing\")\n\t\t: {[\"immer-nothing\"]: true}\n\nexport const DRAFTABLE =\n\ttypeof Symbol !== \"undefined\" && Symbol.for\n\t\t? Symbol.for(\"immer-draftable\")\n\t\t: \"__$immer_draftable\"\n\nexport const DRAFT_STATE =\n\ttypeof Symbol !== \"undefined\" && Symbol.for\n\t\t? Symbol.for(\"immer-state\")\n\t\t: \"__$immer_state\"\n\nexport function isDraft(value) {\n\treturn !!value && !!value[DRAFT_STATE]\n}\n\nexport function isDraftable(value) {\n\tif (!value) return false\n\treturn (\n\t\tisPlainObject(value) || !!value[DRAFTABLE] || !!value.constructor[DRAFTABLE]\n\t)\n}\n\nexport function isPlainObject(value) {\n\tif (!value || typeof value !== \"object\") return false\n\tif (Array.isArray(value)) return true\n\tconst proto = Object.getPrototypeOf(value)\n\treturn !proto || proto === Object.prototype\n}\n\nexport function original(value) {\n\tif (value && value[DRAFT_STATE]) {\n\t\treturn value[DRAFT_STATE].base\n\t}\n\t// otherwise return undefined\n}\n\nexport const assign =\n\tObject.assign ||\n\tfunction assign(target, value) {\n\t\tfor (let key in value) {\n\t\t\tif (has(value, key)) {\n\t\t\t\ttarget[key] = value[key]\n\t\t\t}\n\t\t}\n\t\treturn target\n\t}\n\nexport const ownKeys =\n\ttypeof Reflect !== \"undefined\" && Reflect.ownKeys\n\t\t? Reflect.ownKeys\n\t\t: typeof Object.getOwnPropertySymbols !== \"undefined\"\n\t\t? obj =>\n\t\t\t\tObject.getOwnPropertyNames(obj).concat(\n\t\t\t\t\tObject.getOwnPropertySymbols(obj)\n\t\t\t\t)\n\t\t: Object.getOwnPropertyNames\n\nexport function shallowCopy(base, invokeGetters = false) {\n\tif (Array.isArray(base)) return base.slice()\n\tconst clone = Object.create(Object.getPrototypeOf(base))\n\townKeys(base).forEach(key => {\n\t\tif (key === DRAFT_STATE) {\n\t\t\treturn // Never copy over draft state.\n\t\t}\n\t\tconst desc = Object.getOwnPropertyDescriptor(base, key)\n\t\tlet {value} = desc\n\t\tif (desc.get) {\n\t\t\tif (!invokeGetters) {\n\t\t\t\tthrow new Error(\"Immer drafts cannot have computed properties\")\n\t\t\t}\n\t\t\tvalue = desc.get.call(base)\n\t\t}\n\t\tif (desc.enumerable) {\n\t\t\tclone[key] = value\n\t\t} else {\n\t\t\tObject.defineProperty(clone, key, {\n\t\t\t\tvalue,\n\t\t\t\twritable: true,\n\t\t\t\tconfigurable: true\n\t\t\t})\n\t\t}\n\t})\n\treturn clone\n}\n\nexport function each(value, cb) {\n\tif (Array.isArray(value)) {\n\t\tfor (let i = 0; i < value.length; i++) cb(i, value[i], value)\n\t} else {\n\t\townKeys(value).forEach(key => cb(key, value[key], value))\n\t}\n}\n\nexport function isEnumerable(base, prop) {\n\tconst desc = Object.getOwnPropertyDescriptor(base, prop)\n\treturn !!desc && desc.enumerable\n}\n\nexport function has(thing, prop) {\n\treturn Object.prototype.hasOwnProperty.call(thing, prop)\n}\n\nexport function is(x, y) {\n\t// From: https://github.com/facebook/fbjs/blob/c69904a511b900266935168223063dd8772dfc40/packages/fbjs/src/core/shallowEqual.js\n\tif (x === y) {\n\t\treturn x !== 0 || 1 / x === 1 / y\n\t} else {\n\t\treturn x !== x && y !== y\n\t}\n}\n\nexport function clone(obj) {\n\tif (!isDraftable(obj)) return obj\n\tif (Array.isArray(obj)) return obj.map(clone)\n\tconst cloned = Object.create(Object.getPrototypeOf(obj))\n\tfor (const key in obj) cloned[key] = clone(obj[key])\n\treturn cloned\n}\n\nexport function deepFreeze(obj) {\n\tif (!isDraftable(obj) || isDraft(obj) || Object.isFrozen(obj)) return\n\tObject.freeze(obj)\n\tif (Array.isArray(obj)) obj.forEach(deepFreeze)\n\telse for (const key in obj) deepFreeze(obj[key])\n}\n","import {DRAFT_STATE} from \"./common\"\n\n/** Each scope represents a `produce` call. */\nexport class ImmerScope {\n\tconstructor(parent) {\n\t\tthis.drafts = []\n\t\tthis.parent = parent\n\n\t\t// Whenever the modified draft contains a draft from another scope, we\n\t\t// need to prevent auto-freezing so the unowned draft can be finalized.\n\t\tthis.canAutoFreeze = true\n\n\t\t// To avoid prototype lookups:\n\t\tthis.patches = null\n\t}\n\tusePatches(patchListener) {\n\t\tif (patchListener) {\n\t\t\tthis.patches = []\n\t\t\tthis.inversePatches = []\n\t\t\tthis.patchListener = patchListener\n\t\t}\n\t}\n\trevoke() {\n\t\tthis.leave()\n\t\tthis.drafts.forEach(revoke)\n\t\tthis.drafts = null // Make draft-related methods throw.\n\t}\n\tleave() {\n\t\tif (this === ImmerScope.current) {\n\t\t\tImmerScope.current = this.parent\n\t\t}\n\t}\n}\n\nImmerScope.current = null\nImmerScope.enter = function() {\n\treturn (this.current = new ImmerScope(this.current))\n}\n\nfunction revoke(draft) {\n\tdraft[DRAFT_STATE].revoke()\n}\n","\"use strict\"\nimport {\n\teach,\n\thas,\n\tis,\n\tisDraft,\n\tisDraftable,\n\tisEnumerable,\n\tshallowCopy,\n\tDRAFT_STATE\n} from \"./common\"\nimport {ImmerScope} from \"./scope\"\n\n// property descriptors are recycled to make sure we don't create a get and set closure per property,\n// but share them all instead\nconst descriptors = {}\n\nexport function willFinalize(scope, result, isReplaced) {\n\tscope.drafts.forEach(draft => {\n\t\tdraft[DRAFT_STATE].finalizing = true\n\t})\n\tif (!isReplaced) {\n\t\tif (scope.patches) {\n\t\t\tmarkChangesRecursively(scope.drafts[0])\n\t\t}\n\t\t// This is faster when we don't care about which attributes changed.\n\t\tmarkChangesSweep(scope.drafts)\n\t}\n\t// When a child draft is returned, look for changes.\n\telse if (isDraft(result) && result[DRAFT_STATE].scope === scope) {\n\t\tmarkChangesSweep(scope.drafts)\n\t}\n}\n\nexport function createProxy(base, parent) {\n\tconst isArray = Array.isArray(base)\n\tconst draft = clonePotentialDraft(base)\n\teach(draft, prop => {\n\t\tproxyProperty(draft, prop, isArray || isEnumerable(base, prop))\n\t})\n\n\t// See \"proxy.js\" for property documentation.\n\tconst scope = parent ? parent.scope : ImmerScope.current\n\tconst state = {\n\t\tscope,\n\t\tmodified: false,\n\t\tfinalizing: false, // es5 only\n\t\tfinalized: false,\n\t\tassigned: {},\n\t\tparent,\n\t\tbase,\n\t\tdraft,\n\t\tcopy: null,\n\t\trevoke,\n\t\trevoked: false // es5 only\n\t}\n\n\tcreateHiddenProperty(draft, DRAFT_STATE, state)\n\tscope.drafts.push(draft)\n\treturn draft\n}\n\nfunction revoke() {\n\tthis.revoked = true\n}\n\nfunction source(state) {\n\treturn state.copy || state.base\n}\n\n// Access a property without creating an Immer draft.\nfunction peek(draft, prop) {\n\tconst state = draft[DRAFT_STATE]\n\tif (state && !state.finalizing) {\n\t\tstate.finalizing = true\n\t\tconst value = draft[prop]\n\t\tstate.finalizing = false\n\t\treturn value\n\t}\n\treturn draft[prop]\n}\n\nfunction get(state, prop) {\n\tassertUnrevoked(state)\n\tconst value = peek(source(state), prop)\n\tif (state.finalizing) return value\n\t// Create a draft if the value is unmodified.\n\tif (value === peek(state.base, prop) && isDraftable(value)) {\n\t\tprepareCopy(state)\n\t\treturn (state.copy[prop] = createProxy(value, state))\n\t}\n\treturn value\n}\n\nfunction set(state, prop, value) {\n\tassertUnrevoked(state)\n\tstate.assigned[prop] = true\n\tif (!state.modified) {\n\t\tif (is(value, peek(source(state), prop))) return\n\t\tmarkChanged(state)\n\t\tprepareCopy(state)\n\t}\n\tstate.copy[prop] = value\n}\n\nfunction markChanged(state) {\n\tif (!state.modified) {\n\t\tstate.modified = true\n\t\tif (state.parent) markChanged(state.parent)\n\t}\n}\n\nfunction prepareCopy(state) {\n\tif (!state.copy) state.copy = clonePotentialDraft(state.base)\n}\n\nfunction clonePotentialDraft(base) {\n\tconst state = base && base[DRAFT_STATE]\n\tif (state) {\n\t\tstate.finalizing = true\n\t\tconst draft = shallowCopy(state.draft, true)\n\t\tstate.finalizing = false\n\t\treturn draft\n\t}\n\treturn shallowCopy(base)\n}\n\nfunction proxyProperty(draft, prop, enumerable) {\n\tlet desc = descriptors[prop]\n\tif (desc) {\n\t\tdesc.enumerable = enumerable\n\t} else {\n\t\tdescriptors[prop] = desc = {\n\t\t\tconfigurable: true,\n\t\t\tenumerable,\n\t\t\tget() {\n\t\t\t\treturn get(this[DRAFT_STATE], prop)\n\t\t\t},\n\t\t\tset(value) {\n\t\t\t\tset(this[DRAFT_STATE], prop, value)\n\t\t\t}\n\t\t}\n\t}\n\tObject.defineProperty(draft, prop, desc)\n}\n\nfunction assertUnrevoked(state) {\n\tif (state.revoked === true)\n\t\tthrow new Error(\n\t\t\t\"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? \" +\n\t\t\t\tJSON.stringify(source(state))\n\t\t)\n}\n\n// This looks expensive, but only proxies are visited, and only objects without known changes are scanned.\nfunction markChangesSweep(drafts) {\n\t// The natural order of drafts in the `scope` array is based on when they\n\t// were accessed. By processing drafts in reverse natural order, we have a\n\t// better chance of processing leaf nodes first. When a leaf node is known to\n\t// have changed, we can avoid any traversal of its ancestor nodes.\n\tfor (let i = drafts.length - 1; i >= 0; i--) {\n\t\tconst state = drafts[i][DRAFT_STATE]\n\t\tif (!state.modified) {\n\t\t\tif (Array.isArray(state.base)) {\n\t\t\t\tif (hasArrayChanges(state)) markChanged(state)\n\t\t\t} else if (hasObjectChanges(state)) markChanged(state)\n\t\t}\n\t}\n}\n\nfunction markChangesRecursively(object) {\n\tif (!object || typeof object !== \"object\") return\n\tconst state = object[DRAFT_STATE]\n\tif (!state) return\n\tconst {base, draft, assigned} = state\n\tif (!Array.isArray(object)) {\n\t\t// Look for added keys.\n\t\tObject.keys(draft).forEach(key => {\n\t\t\t// The `undefined` check is a fast path for pre-existing keys.\n\t\t\tif (base[key] === undefined && !has(base, key)) {\n\t\t\t\tassigned[key] = true\n\t\t\t\tmarkChanged(state)\n\t\t\t} else if (!assigned[key]) {\n\t\t\t\t// Only untouched properties trigger recursion.\n\t\t\t\tmarkChangesRecursively(draft[key])\n\t\t\t}\n\t\t})\n\t\t// Look for removed keys.\n\t\tObject.keys(base).forEach(key => {\n\t\t\t// The `undefined` check is a fast path for pre-existing keys.\n\t\t\tif (draft[key] === undefined && !has(draft, key)) {\n\t\t\t\tassigned[key] = false\n\t\t\t\tmarkChanged(state)\n\t\t\t}\n\t\t})\n\t} else if (hasArrayChanges(state)) {\n\t\tmarkChanged(state)\n\t\tassigned.length = true\n\t\tif (draft.length < base.length) {\n\t\t\tfor (let i = draft.length; i < base.length; i++) assigned[i] = false\n\t\t} else {\n\t\t\tfor (let i = base.length; i < draft.length; i++) assigned[i] = true\n\t\t}\n\t\tfor (let i = 0; i < draft.length; i++) {\n\t\t\t// Only untouched indices trigger recursion.\n\t\t\tif (assigned[i] === undefined) markChangesRecursively(draft[i])\n\t\t}\n\t}\n}\n\nfunction hasObjectChanges(state) {\n\tconst {base, draft} = state\n\n\t// Search for added keys and changed keys. Start at the back, because\n\t// non-numeric keys are ordered by time of definition on the object.\n\tconst keys = Object.keys(draft)\n\tfor (let i = keys.length - 1; i >= 0; i--) {\n\t\tconst key = keys[i]\n\t\tconst baseValue = base[key]\n\t\t// The `undefined` check is a fast path for pre-existing keys.\n\t\tif (baseValue === undefined && !has(base, key)) {\n\t\t\treturn true\n\t\t}\n\t\t// Once a base key is deleted, future changes go undetected, because its\n\t\t// descriptor is erased. This branch detects any missed changes.\n\t\telse {\n\t\t\tconst value = draft[key]\n\t\t\tconst state = value && value[DRAFT_STATE]\n\t\t\tif (state ? state.base !== baseValue : !is(value, baseValue)) {\n\t\t\t\treturn true\n\t\t\t}\n\t\t}\n\t}\n\n\t// At this point, no keys were added or changed.\n\t// Compare key count to determine if keys were deleted.\n\treturn keys.length !== Object.keys(base).length\n}\n\nfunction hasArrayChanges(state) {\n\tconst {draft} = state\n\tif (draft.length !== state.base.length) return true\n\t// See #116\n\t// If we first shorten the length, our array interceptors will be removed.\n\t// If after that new items are added, result in the same original length,\n\t// those last items will have no intercepting property.\n\t// So if there is no own descriptor on the last position, we know that items were removed and added\n\t// N.B.: splice, unshift, etc only shift values around, but not prop descriptors, so we only have to check\n\t// the last one\n\tconst descriptor = Object.getOwnPropertyDescriptor(draft, draft.length - 1)\n\t// descriptor can be null, but only for newly created sparse arrays, eg. new Array(10)\n\tif (descriptor && !descriptor.get) return true\n\t// For all other cases, we don't have to compare, as they would have been picked up by the index setters\n\treturn false\n}\n\nfunction createHiddenProperty(target, prop, value) {\n\tObject.defineProperty(target, prop, {\n\t\tvalue: value,\n\t\tenumerable: false,\n\t\twritable: true\n\t})\n}\n","\"use strict\"\nimport {\n\tassign,\n\teach,\n\thas,\n\tis,\n\tisDraftable,\n\tisDraft,\n\tshallowCopy,\n\tDRAFT_STATE\n} from \"./common\"\nimport {ImmerScope} from \"./scope\"\n\n// Do nothing before being finalized.\nexport function willFinalize() {}\n\nexport function createProxy(base, parent) {\n\tconst scope = parent ? parent.scope : ImmerScope.current\n\tconst state = {\n\t\t// Track which produce call this is associated with.\n\t\tscope,\n\t\t// True for both shallow and deep changes.\n\t\tmodified: false,\n\t\t// Used during finalization.\n\t\tfinalized: false,\n\t\t// Track which properties have been assigned (true) or deleted (false).\n\t\tassigned: {},\n\t\t// The parent draft state.\n\t\tparent,\n\t\t// The base state.\n\t\tbase,\n\t\t// The base proxy.\n\t\tdraft: null,\n\t\t// Any property proxies.\n\t\tdrafts: {},\n\t\t// The base copy with any updated values.\n\t\tcopy: null,\n\t\t// Called by the `produce` function.\n\t\trevoke: null\n\t}\n\n\tconst {revoke, proxy} = Array.isArray(base)\n\t\t? // [state] is used for arrays, to make sure the proxy is array-ish and not violate invariants,\n\t\t  // although state itself is an object\n\t\t  Proxy.revocable([state], arrayTraps)\n\t\t: Proxy.revocable(state, objectTraps)\n\n\tstate.draft = proxy\n\tstate.revoke = revoke\n\n\tscope.drafts.push(proxy)\n\treturn proxy\n}\n\nconst objectTraps = {\n\tget,\n\thas(target, prop) {\n\t\treturn prop in source(target)\n\t},\n\townKeys(target) {\n\t\treturn Reflect.ownKeys(source(target))\n\t},\n\tset,\n\tdeleteProperty,\n\tgetOwnPropertyDescriptor,\n\tdefineProperty() {\n\t\tthrow new Error(\"Object.defineProperty() cannot be used on an Immer draft\") // prettier-ignore\n\t},\n\tgetPrototypeOf(target) {\n\t\treturn Object.getPrototypeOf(target.base)\n\t},\n\tsetPrototypeOf() {\n\t\tthrow new Error(\"Object.setPrototypeOf() cannot be used on an Immer draft\") // prettier-ignore\n\t}\n}\n\nconst arrayTraps = {}\neach(objectTraps, (key, fn) => {\n\tarrayTraps[key] = function() {\n\t\targuments[0] = arguments[0][0]\n\t\treturn fn.apply(this, arguments)\n\t}\n})\narrayTraps.deleteProperty = function(state, prop) {\n\tif (isNaN(parseInt(prop))) {\n\t\tthrow new Error(\"Immer only supports deleting array indices\") // prettier-ignore\n\t}\n\treturn objectTraps.deleteProperty.call(this, state[0], prop)\n}\narrayTraps.set = function(state, prop, value) {\n\tif (prop !== \"length\" && isNaN(parseInt(prop))) {\n\t\tthrow new Error(\"Immer only supports setting array indices and the 'length' property\") // prettier-ignore\n\t}\n\treturn objectTraps.set.call(this, state[0], prop, value)\n}\n\n// returns the object we should be reading the current value from, which is base, until some change has been made\nfunction source(state) {\n\treturn state.copy || state.base\n}\n\n// Access a property without creating an Immer draft.\nfunction peek(draft, prop) {\n\tconst state = draft[DRAFT_STATE]\n\tconst desc = Reflect.getOwnPropertyDescriptor(\n\t\tstate ? source(state) : draft,\n\t\tprop\n\t)\n\treturn desc && desc.value\n}\n\nfunction get(state, prop) {\n\tif (prop === DRAFT_STATE) return state\n\tlet {drafts} = state\n\n\t// Check for existing draft in unmodified state.\n\tif (!state.modified && has(drafts, prop)) {\n\t\treturn drafts[prop]\n\t}\n\n\tconst value = source(state)[prop]\n\tif (state.finalized || !isDraftable(value)) {\n\t\treturn value\n\t}\n\n\t// Check for existing draft in modified state.\n\tif (state.modified) {\n\t\t// Assigned values are never drafted. This catches any drafts we created, too.\n\t\tif (value !== peek(state.base, prop)) return value\n\t\t// Store drafts on the copy (when one exists).\n\t\tdrafts = state.copy\n\t}\n\n\treturn (drafts[prop] = createProxy(value, state))\n}\n\nfunction set(state, prop, value) {\n\tif (!state.modified) {\n\t\tconst baseValue = peek(state.base, prop)\n\t\t// Optimize based on value's truthiness. Truthy values are guaranteed to\n\t\t// never be undefined, so we can avoid the `in` operator. Lastly, truthy\n\t\t// values may be drafts, but falsy values are never drafts.\n\t\tconst isUnchanged = value\n\t\t\t? is(baseValue, value) || value === state.drafts[prop]\n\t\t\t: is(baseValue, value) && prop in state.base\n\t\tif (isUnchanged) return true\n\t\tmarkChanged(state)\n\t}\n\tstate.assigned[prop] = true\n\tstate.copy[prop] = value\n\treturn true\n}\n\nfunction deleteProperty(state, prop) {\n\t// The `undefined` check is a fast path for pre-existing keys.\n\tif (peek(state.base, prop) !== undefined || prop in state.base) {\n\t\tstate.assigned[prop] = false\n\t\tmarkChanged(state)\n\t} else if (state.assigned[prop]) {\n\t\t// if an originally not assigned property was deleted\n\t\tdelete state.assigned[prop]\n\t}\n\tif (state.copy) delete state.copy[prop]\n\treturn true\n}\n\n// Note: We never coerce `desc.value` into an Immer draft, because we can't make\n// the same guarantee in ES5 mode.\nfunction getOwnPropertyDescriptor(state, prop) {\n\tconst owner = source(state)\n\tconst desc = Reflect.getOwnPropertyDescriptor(owner, prop)\n\tif (desc) {\n\t\tdesc.writable = true\n\t\tdesc.configurable = !Array.isArray(owner) || prop !== \"length\"\n\t}\n\treturn desc\n}\n\nfunction markChanged(state) {\n\tif (!state.modified) {\n\t\tstate.modified = true\n\t\tstate.copy = assign(shallowCopy(state.base), state.drafts)\n\t\tstate.drafts = null\n\t\tif (state.parent) markChanged(state.parent)\n\t}\n}\n","import {each, clone} from \"./common\"\nimport {createDraft} from \"./immer\"\n\nexport function generatePatches(state, basePath, patches, inversePatches) {\n\tArray.isArray(state.base)\n\t\t? generateArrayPatches(state, basePath, patches, inversePatches)\n\t\t: generateObjectPatches(state, basePath, patches, inversePatches)\n}\n\nfunction generateArrayPatches(state, basePath, patches, inversePatches) {\n\tlet {base, copy, assigned} = state\n\n\t// Reduce complexity by ensuring `base` is never longer.\n\tif (copy.length < base.length) {\n\t\t;[base, copy] = [copy, base]\n\t\t;[patches, inversePatches] = [inversePatches, patches]\n\t}\n\n\tconst delta = copy.length - base.length\n\n\t// Find the first replaced index.\n\tlet start = 0\n\twhile (base[start] === copy[start] && start < base.length) {\n\t\t++start\n\t}\n\n\t// Find the last replaced index. Search from the end to optimize splice patches.\n\tlet end = base.length\n\twhile (end > start && base[end - 1] === copy[end + delta - 1]) {\n\t\t--end\n\t}\n\n\t// Process replaced indices.\n\tfor (let i = start; i < end; ++i) {\n\t\tif (assigned[i] && copy[i] !== base[i]) {\n\t\t\tconst path = basePath.concat([i])\n\t\t\tpatches.push({\n\t\t\t\top: \"replace\",\n\t\t\t\tpath,\n\t\t\t\tvalue: copy[i]\n\t\t\t})\n\t\t\tinversePatches.push({\n\t\t\t\top: \"replace\",\n\t\t\t\tpath,\n\t\t\t\tvalue: base[i]\n\t\t\t})\n\t\t}\n\t}\n\n\tconst replaceCount = patches.length\n\n\t// Process added indices.\n\tfor (let i = end + delta - 1; i >= end; --i) {\n\t\tconst path = basePath.concat([i])\n\t\tpatches[replaceCount + i - end] = {\n\t\t\top: \"add\",\n\t\t\tpath,\n\t\t\tvalue: copy[i]\n\t\t}\n\t\tinversePatches.push({\n\t\t\top: \"remove\",\n\t\t\tpath\n\t\t})\n\t}\n}\n\nfunction generateObjectPatches(state, basePath, patches, inversePatches) {\n\tconst {base, copy} = state\n\teach(state.assigned, (key, assignedValue) => {\n\t\tconst origValue = base[key]\n\t\tconst value = copy[key]\n\t\tconst op = !assignedValue ? \"remove\" : key in base ? \"replace\" : \"add\"\n\t\tif (origValue === value && op === \"replace\") return\n\t\tconst path = basePath.concat(key)\n\t\tpatches.push(op === \"remove\" ? {op, path} : {op, path, value})\n\t\tinversePatches.push(\n\t\t\top === \"add\"\n\t\t\t\t? {op: \"remove\", path}\n\t\t\t\t: op === \"remove\"\n\t\t\t\t? {op: \"add\", path, value: origValue}\n\t\t\t\t: {op: \"replace\", path, value: origValue}\n\t\t)\n\t})\n}\n\nexport const applyPatches = (draft, patches) => {\n\tfor (const patch of patches) {\n\t\tconst {path, op} = patch\n\t\tconst value = clone(patch.value) // used to clone patch to ensure original patch is not modified, see #411\n\n\t\tif (!path.length) throw new Error(\"Illegal state\")\n\n\t\tlet base = draft\n\t\tfor (let i = 0; i < path.length - 1; i++) {\n\t\t\tbase = base[path[i]]\n\t\t\tif (!base || typeof base !== \"object\")\n\t\t\t\tthrow new Error(\"Cannot apply patch, path doesn't resolve: \" + path.join(\"/\")) // prettier-ignore\n\t\t}\n\n\t\tconst key = path[path.length - 1]\n\t\tswitch (op) {\n\t\t\tcase \"replace\":\n\t\t\t\t// if value is an object, then it's assigned by reference\n\t\t\t\t// in the following add or remove ops, the value field inside the patch will also be modifyed\n\t\t\t\t// so we use value from the cloned patch\n\t\t\t\tbase[key] = value\n\t\t\t\tbreak\n\t\t\tcase \"add\":\n\t\t\t\tif (Array.isArray(base)) {\n\t\t\t\t\t// TODO: support \"foo/-\" paths for appending to an array\n\t\t\t\t\tbase.splice(key, 0, value)\n\t\t\t\t} else {\n\t\t\t\t\tbase[key] = value\n\t\t\t\t}\n\t\t\t\tbreak\n\t\t\tcase \"remove\":\n\t\t\t\tif (Array.isArray(base)) {\n\t\t\t\t\tbase.splice(key, 1)\n\t\t\t\t} else {\n\t\t\t\t\tdelete base[key]\n\t\t\t\t}\n\t\t\t\tbreak\n\t\t\tdefault:\n\t\t\t\tthrow new Error(\"Unsupported patch operation: \" + op)\n\t\t}\n\t}\n\n\treturn draft\n}\n","import * as legacyProxy from \"./es5\"\nimport * as modernProxy from \"./proxy\"\nimport {applyPatches, generatePatches} from \"./patches\"\nimport {\n\tassign,\n\teach,\n\thas,\n\tis,\n\tisDraft,\n\tisDraftable,\n\tisEnumerable,\n\tshallowCopy,\n\tDRAFT_STATE,\n\tNOTHING,\n\tdeepFreeze\n} from \"./common\"\nimport {ImmerScope} from \"./scope\"\n\nfunction verifyMinified() {}\n\nconst configDefaults = {\n\tuseProxies:\n\t\ttypeof Proxy !== \"undefined\" &&\n\t\ttypeof Proxy.revocable !== \"undefined\" &&\n\t\ttypeof Reflect !== \"undefined\",\n\tautoFreeze:\n\t\ttypeof process !== \"undefined\"\n\t\t\t? process.env.NODE_ENV !== \"production\"\n\t\t\t: verifyMinified.name === \"verifyMinified\",\n\tonAssign: null,\n\tonDelete: null,\n\tonCopy: null\n}\n\nexport class Immer {\n\tconstructor(config) {\n\t\tassign(this, configDefaults, config)\n\t\tthis.setUseProxies(this.useProxies)\n\t\tthis.produce = this.produce.bind(this)\n\t}\n\tproduce(base, recipe, patchListener) {\n\t\t// curried invocation\n\t\tif (typeof base === \"function\" && typeof recipe !== \"function\") {\n\t\t\tconst defaultBase = recipe\n\t\t\trecipe = base\n\n\t\t\tconst self = this\n\t\t\treturn function curriedProduce(base = defaultBase, ...args) {\n\t\t\t\treturn self.produce(base, draft => recipe.call(this, draft, ...args)) // prettier-ignore\n\t\t\t}\n\t\t}\n\n\t\t// prettier-ignore\n\t\t{\n\t\t\tif (typeof recipe !== \"function\") {\n\t\t\t\tthrow new Error(\"The first or second argument to `produce` must be a function\")\n\t\t\t}\n\t\t\tif (patchListener !== undefined && typeof patchListener !== \"function\") {\n\t\t\t\tthrow new Error(\"The third argument to `produce` must be a function or undefined\")\n\t\t\t}\n\t\t}\n\n\t\tlet result\n\n\t\t// Only plain objects, arrays, and \"immerable classes\" are drafted.\n\t\tif (isDraftable(base)) {\n\t\t\tconst scope = ImmerScope.enter()\n\t\t\tconst proxy = this.createProxy(base)\n\t\t\tlet hasError = true\n\t\t\ttry {\n\t\t\t\tresult = recipe(proxy)\n\t\t\t\thasError = false\n\t\t\t} finally {\n\t\t\t\t// finally instead of catch + rethrow better preserves original stack\n\t\t\t\tif (hasError) scope.revoke()\n\t\t\t\telse scope.leave()\n\t\t\t}\n\t\t\tif (result instanceof Promise) {\n\t\t\t\treturn result.then(\n\t\t\t\t\tresult => {\n\t\t\t\t\t\tscope.usePatches(patchListener)\n\t\t\t\t\t\treturn this.processResult(result, scope)\n\t\t\t\t\t},\n\t\t\t\t\terror => {\n\t\t\t\t\t\tscope.revoke()\n\t\t\t\t\t\tthrow error\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t}\n\t\t\tscope.usePatches(patchListener)\n\t\t\treturn this.processResult(result, scope)\n\t\t} else {\n\t\t\tresult = recipe(base)\n\t\t\tif (result === NOTHING) return undefined\n\t\t\tif (result === undefined) result = base\n\t\t\tthis.maybeFreeze(result, true)\n\t\t\treturn result\n\t\t}\n\t}\n\tproduceWithPatches(arg1, arg2, arg3) {\n\t\tif (typeof arg1 === \"function\") {\n\t\t\tconst self = this\n\t\t\treturn (state, ...args) =>\n\t\t\t\tthis.produceWithPatches(state, draft => arg1(draft, ...args))\n\t\t}\n\t\t// non-curried form\n\t\tif (arg3)\n\t\t\tthrow new Error(\"A patch listener cannot be passed to produceWithPatches\")\n\t\tlet patches, inversePatches\n\t\tconst nextState = this.produce(arg1, arg2, (p, ip) => {\n\t\t\tpatches = p\n\t\t\tinversePatches = ip\n\t\t})\n\t\treturn [nextState, patches, inversePatches]\n\t}\n\tcreateDraft(base) {\n\t\tif (!isDraftable(base)) {\n\t\t\tthrow new Error(\"First argument to `createDraft` must be a plain object, an array, or an immerable object\") // prettier-ignore\n\t\t}\n\t\tconst scope = ImmerScope.enter()\n\t\tconst proxy = this.createProxy(base)\n\t\tproxy[DRAFT_STATE].isManual = true\n\t\tscope.leave()\n\t\treturn proxy\n\t}\n\tfinishDraft(draft, patchListener) {\n\t\tconst state = draft && draft[DRAFT_STATE]\n\t\tif (!state || !state.isManual) {\n\t\t\tthrow new Error(\"First argument to `finishDraft` must be a draft returned by `createDraft`\") // prettier-ignore\n\t\t}\n\t\tif (state.finalized) {\n\t\t\tthrow new Error(\"The given draft is already finalized\") // prettier-ignore\n\t\t}\n\t\tconst {scope} = state\n\t\tscope.usePatches(patchListener)\n\t\treturn this.processResult(undefined, scope)\n\t}\n\tsetAutoFreeze(value) {\n\t\tthis.autoFreeze = value\n\t}\n\tsetUseProxies(value) {\n\t\tthis.useProxies = value\n\t\tassign(this, value ? modernProxy : legacyProxy)\n\t}\n\tapplyPatches(base, patches) {\n\t\t// If a patch replaces the entire state, take that replacement as base\n\t\t// before applying patches\n\t\tlet i\n\t\tfor (i = patches.length - 1; i >= 0; i--) {\n\t\t\tconst patch = patches[i]\n\t\t\tif (patch.path.length === 0 && patch.op === \"replace\") {\n\t\t\t\tbase = patch.value\n\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\n\t\tif (isDraft(base)) {\n\t\t\t// N.B: never hits if some patch a replacement, patches are never drafts\n\t\t\treturn applyPatches(base, patches)\n\t\t}\n\t\t// Otherwise, produce a copy of the base state.\n\t\treturn this.produce(base, draft =>\n\t\t\tapplyPatches(draft, patches.slice(i + 1))\n\t\t)\n\t}\n\t/** @internal */\n\tprocessResult(result, scope) {\n\t\tconst baseDraft = scope.drafts[0]\n\t\tconst isReplaced = result !== undefined && result !== baseDraft\n\t\tthis.willFinalize(scope, result, isReplaced)\n\t\tif (isReplaced) {\n\t\t\tif (baseDraft[DRAFT_STATE].modified) {\n\t\t\t\tscope.revoke()\n\t\t\t\tthrow new Error(\"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.\") // prettier-ignore\n\t\t\t}\n\t\t\tif (isDraftable(result)) {\n\t\t\t\t// Finalize the result in case it contains (or is) a subset of the draft.\n\t\t\t\tresult = this.finalize(result, null, scope)\n\t\t\t\tthis.maybeFreeze(result)\n\t\t\t}\n\t\t\tif (scope.patches) {\n\t\t\t\tscope.patches.push({\n\t\t\t\t\top: \"replace\",\n\t\t\t\t\tpath: [],\n\t\t\t\t\tvalue: result\n\t\t\t\t})\n\t\t\t\tscope.inversePatches.push({\n\t\t\t\t\top: \"replace\",\n\t\t\t\t\tpath: [],\n\t\t\t\t\tvalue: baseDraft[DRAFT_STATE].base\n\t\t\t\t})\n\t\t\t}\n\t\t} else {\n\t\t\t// Finalize the base draft.\n\t\t\tresult = this.finalize(baseDraft, [], scope)\n\t\t}\n\t\tscope.revoke()\n\t\tif (scope.patches) {\n\t\t\tscope.patchListener(scope.patches, scope.inversePatches)\n\t\t}\n\t\treturn result !== NOTHING ? result : undefined\n\t}\n\t/**\n\t * @internal\n\t * Finalize a draft, returning either the unmodified base state or a modified\n\t * copy of the base state.\n\t */\n\tfinalize(draft, path, scope) {\n\t\tconst state = draft[DRAFT_STATE]\n\t\tif (!state) {\n\t\t\tif (Object.isFrozen(draft)) return draft\n\t\t\treturn this.finalizeTree(draft, null, scope)\n\t\t}\n\t\t// Never finalize drafts owned by another scope.\n\t\tif (state.scope !== scope) {\n\t\t\treturn draft\n\t\t}\n\t\tif (!state.modified) {\n\t\t\tthis.maybeFreeze(state.base, true)\n\t\t\treturn state.base\n\t\t}\n\t\tif (!state.finalized) {\n\t\t\tstate.finalized = true\n\t\t\tthis.finalizeTree(state.draft, path, scope)\n\n\t\t\tif (this.onDelete) {\n\t\t\t\t// The `assigned` object is unreliable with ES5 drafts.\n\t\t\t\tif (this.useProxies) {\n\t\t\t\t\tconst {assigned} = state\n\t\t\t\t\tfor (const prop in assigned) {\n\t\t\t\t\t\tif (!assigned[prop]) this.onDelete(state, prop)\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconst {base, copy} = state\n\t\t\t\t\teach(base, prop => {\n\t\t\t\t\t\tif (!has(copy, prop)) this.onDelete(state, prop)\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this.onCopy) {\n\t\t\t\tthis.onCopy(state)\n\t\t\t}\n\n\t\t\t// At this point, all descendants of `state.copy` have been finalized,\n\t\t\t// so we can be sure that `scope.canAutoFreeze` is accurate.\n\t\t\tif (this.autoFreeze && scope.canAutoFreeze) {\n\t\t\t\tObject.freeze(state.copy)\n\t\t\t}\n\n\t\t\tif (path && scope.patches) {\n\t\t\t\tgeneratePatches(state, path, scope.patches, scope.inversePatches)\n\t\t\t}\n\t\t}\n\t\treturn state.copy\n\t}\n\t/**\n\t * @internal\n\t * Finalize all drafts in the given state tree.\n\t */\n\tfinalizeTree(root, rootPath, scope) {\n\t\tconst state = root[DRAFT_STATE]\n\t\tif (state) {\n\t\t\tif (!this.useProxies) {\n\t\t\t\t// Create the final copy, with added keys and without deleted keys.\n\t\t\t\tstate.copy = shallowCopy(state.draft, true)\n\t\t\t}\n\t\t\troot = state.copy\n\t\t}\n\n\t\tconst needPatches = !!rootPath && !!scope.patches\n\t\tconst finalizeProperty = (prop, value, parent) => {\n\t\t\tif (value === parent) {\n\t\t\t\tthrow Error(\"Immer forbids circular references\")\n\t\t\t}\n\n\t\t\t// In the `finalizeTree` method, only the `root` object may be a draft.\n\t\t\tconst isDraftProp = !!state && parent === root\n\n\t\t\tif (isDraft(value)) {\n\t\t\t\tconst path =\n\t\t\t\t\tisDraftProp && needPatches && !state.assigned[prop]\n\t\t\t\t\t\t? rootPath.concat(prop)\n\t\t\t\t\t\t: null\n\n\t\t\t\t// Drafts owned by `scope` are finalized here.\n\t\t\t\tvalue = this.finalize(value, path, scope)\n\n\t\t\t\t// Drafts from another scope must prevent auto-freezing.\n\t\t\t\tif (isDraft(value)) {\n\t\t\t\t\tscope.canAutoFreeze = false\n\t\t\t\t}\n\n\t\t\t\t// Preserve non-enumerable properties.\n\t\t\t\tif (Array.isArray(parent) || isEnumerable(parent, prop)) {\n\t\t\t\t\tparent[prop] = value\n\t\t\t\t} else {\n\t\t\t\t\tObject.defineProperty(parent, prop, {value})\n\t\t\t\t}\n\n\t\t\t\t// Unchanged drafts are never passed to the `onAssign` hook.\n\t\t\t\tif (isDraftProp && value === state.base[prop]) return\n\t\t\t}\n\t\t\t// Unchanged draft properties are ignored.\n\t\t\telse if (isDraftProp && is(value, state.base[prop])) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\t// Search new objects for unfinalized drafts. Frozen objects should never contain drafts.\n\t\t\telse if (isDraftable(value) && !Object.isFrozen(value)) {\n\t\t\t\teach(value, finalizeProperty)\n\t\t\t\tthis.maybeFreeze(value)\n\t\t\t}\n\n\t\t\tif (isDraftProp && this.onAssign) {\n\t\t\t\tthis.onAssign(state, prop, value)\n\t\t\t}\n\t\t}\n\n\t\teach(root, finalizeProperty)\n\t\treturn root\n\t}\n\tmaybeFreeze(value, deep = false) {\n\t\tif (this.autoFreeze && !isDraft(value)) {\n\t\t\tif (deep) deepFreeze(value)\n\t\t\telse Object.freeze(value)\n\t\t}\n\t}\n}\n","import {Immer} from \"./immer\"\n\nconst immer = new Immer()\n\n/**\n * The `produce` function takes a value and a \"recipe function\" (whose\n * return value often depends on the base state). The recipe function is\n * free to mutate its first argument however it wants. All mutations are\n * only ever applied to a __copy__ of the base state.\n *\n * Pass only a function to create a \"curried producer\" which relieves you\n * from passing the recipe function every time.\n *\n * Only plain objects and arrays are made mutable. All other objects are\n * considered uncopyable.\n *\n * Note: This function is __bound__ to its `Immer` instance.\n *\n * @param {any} base - the initial state\n * @param {Function} producer - function that receives a proxy of the base state as first argument and which can be freely modified\n * @param {Function} patchListener - optional function that will be called with all the patches produced here\n * @returns {any} a new state, or the initial state if nothing was modified\n */\nexport const produce = immer.produce\nexport default produce\n\n/**\n * Like `produce`, but `produceWithPatches` always returns a tuple\n * [nextState, patches, inversePatches] (instead of just the next state)\n */\nexport const produceWithPatches = immer.produceWithPatches.bind(immer)\n\n/**\n * Pass true to automatically freeze all copies created by Immer.\n *\n * By default, auto-freezing is disabled in production.\n */\nexport const setAutoFreeze = immer.setAutoFreeze.bind(immer)\n\n/**\n * Pass true to use the ES2015 `Proxy` class when creating drafts, which is\n * always faster than using ES5 proxies.\n *\n * By default, feature detection is used, so calling this is rarely necessary.\n */\nexport const setUseProxies = immer.setUseProxies.bind(immer)\n\n/**\n * Apply an array of Immer patches to the first argument.\n *\n * This function is a producer, which means copy-on-write is in effect.\n */\nexport const applyPatches = immer.applyPatches.bind(immer)\n\n/**\n * Create an Immer draft from the given base state, which may be a draft itself.\n * The draft can be modified until you finalize it with the `finishDraft` function.\n */\nexport const createDraft = immer.createDraft.bind(immer)\n\n/**\n * Finalize an Immer draft from a `createDraft` call, returning the base state\n * (if no changes were made) or a modified copy. The draft must *not* be\n * mutated afterwards.\n *\n * Pass a function as the 2nd argument to generate Immer patches based on the\n * changes that were made.\n */\nexport const finishDraft = immer.finishDraft.bind(immer)\n\nexport {\n\toriginal,\n\tisDraft,\n\tisDraftable,\n\tNOTHING as nothing,\n\tDRAFTABLE as immerable\n} from \"./common\"\n\nexport {Immer}\n","function defaultEqualityCheck(a, b) {\n  return a === b;\n}\n\nfunction areArgumentsShallowlyEqual(equalityCheck, prev, next) {\n  if (prev === null || next === null || prev.length !== next.length) {\n    return false;\n  }\n\n  // Do this in a for loop (and not a `forEach` or an `every`) so we can determine equality as fast as possible.\n  var length = prev.length;\n  for (var i = 0; i < length; i++) {\n    if (!equalityCheck(prev[i], next[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport function defaultMemoize(func) {\n  var equalityCheck = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultEqualityCheck;\n\n  var lastArgs = null;\n  var lastResult = null;\n  // we reference arguments instead of spreading them for performance reasons\n  return function () {\n    if (!areArgumentsShallowlyEqual(equalityCheck, lastArgs, arguments)) {\n      // apply arguments instead of spreading for performance.\n      lastResult = func.apply(null, arguments);\n    }\n\n    lastArgs = arguments;\n    return lastResult;\n  };\n}\n\nfunction getDependencies(funcs) {\n  var dependencies = Array.isArray(funcs[0]) ? funcs[0] : funcs;\n\n  if (!dependencies.every(function (dep) {\n    return typeof dep === 'function';\n  })) {\n    var dependencyTypes = dependencies.map(function (dep) {\n      return typeof dep;\n    }).join(', ');\n    throw new Error('Selector creators expect all input-selectors to be functions, ' + ('instead received the following types: [' + dependencyTypes + ']'));\n  }\n\n  return dependencies;\n}\n\nexport function createSelectorCreator(memoize) {\n  for (var _len = arguments.length, memoizeOptions = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    memoizeOptions[_key - 1] = arguments[_key];\n  }\n\n  return function () {\n    for (var _len2 = arguments.length, funcs = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      funcs[_key2] = arguments[_key2];\n    }\n\n    var recomputations = 0;\n    var resultFunc = funcs.pop();\n    var dependencies = getDependencies(funcs);\n\n    var memoizedResultFunc = memoize.apply(undefined, [function () {\n      recomputations++;\n      // apply arguments instead of spreading for performance.\n      return resultFunc.apply(null, arguments);\n    }].concat(memoizeOptions));\n\n    // If a selector is called with the exact same arguments we don't need to traverse our dependencies again.\n    var selector = memoize(function () {\n      var params = [];\n      var length = dependencies.length;\n\n      for (var i = 0; i < length; i++) {\n        // apply arguments instead of spreading and mutate a local list of params for performance.\n        params.push(dependencies[i].apply(null, arguments));\n      }\n\n      // apply arguments instead of spreading for performance.\n      return memoizedResultFunc.apply(null, params);\n    });\n\n    selector.resultFunc = resultFunc;\n    selector.dependencies = dependencies;\n    selector.recomputations = function () {\n      return recomputations;\n    };\n    selector.resetRecomputations = function () {\n      return recomputations = 0;\n    };\n    return selector;\n  };\n}\n\nexport var createSelector = createSelectorCreator(defaultMemoize);\n\nexport function createStructuredSelector(selectors) {\n  var selectorCreator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : createSelector;\n\n  if (typeof selectors !== 'object') {\n    throw new Error('createStructuredSelector expects first argument to be an object ' + ('where each property is a selector, instead received a ' + typeof selectors));\n  }\n  var objectKeys = Object.keys(selectors);\n  return selectorCreator(objectKeys.map(function (key) {\n    return selectors[key];\n  }), function () {\n    for (var _len3 = arguments.length, values = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      values[_key3] = arguments[_key3];\n    }\n\n    return values.reduce(function (composition, value, index) {\n      composition[objectKeys[index]] = value;\n      return composition;\n    }, {});\n  });\n}","\"use strict\";\n\nvar compose = require('redux').compose;\n\nexports.__esModule = true;\nexports.composeWithDevTools = (\n  typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ?\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ :\n    function() {\n      if (arguments.length === 0) return undefined;\n      if (typeof arguments[0] === 'object') return compose;\n      return compose.apply(null, arguments);\n    }\n);\n\nexports.devToolsEnhancer = (\n  typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION__ ?\n    window.__REDUX_DEVTOOLS_EXTENSION__ :\n    function() { return function(noop) { return noop; } }\n);\n","/**\r\n * Returns true if the passed value is \"plain\" object, i.e. an object whose\r\n * protoype is the root `Object.prototype`. This includes objects created\r\n * using object literals, but not for instance for class instances.\r\n *\r\n * @param {any} value The value to inspect.\r\n * @returns {boolean} True if the argument appears to be a plain object.\r\n */\r\nexport default function isPlainObject(value: unknown): value is object {\r\n  if (typeof value !== 'object' || value === null) return false\r\n\r\n  let proto = value\r\n  while (Object.getPrototypeOf(proto) !== null) {\r\n    proto = Object.getPrototypeOf(proto)\r\n  }\r\n\r\n  return Object.getPrototypeOf(value) === proto\r\n}\r\n","function createThunkMiddleware(extraArgument) {\n  return function (_ref) {\n    var dispatch = _ref.dispatch,\n        getState = _ref.getState;\n    return function (next) {\n      return function (action) {\n        if (typeof action === 'function') {\n          return action(dispatch, getState, extraArgument);\n        }\n\n        return next(action);\n      };\n    };\n  };\n}\n\nvar thunk = createThunkMiddleware();\nthunk.withExtraArgument = createThunkMiddleware;\n\nexport default thunk;","import isPlainObject from './isPlainObject'\r\nimport { Middleware } from 'redux'\r\n\r\n/**\r\n * Returns true if the passed value is \"plain\", i.e. a value that is either\r\n * directly JSON-serializable (boolean, number, string, array, plain object)\r\n * or `undefined`.\r\n *\r\n * @param val The value to check.\r\n *\r\n * @public\r\n */\r\nexport function isPlain(val: any) {\r\n  return (\r\n    typeof val === 'undefined' ||\r\n    val === null ||\r\n    typeof val === 'string' ||\r\n    typeof val === 'boolean' ||\r\n    typeof val === 'number' ||\r\n    Array.isArray(val) ||\r\n    isPlainObject(val)\r\n  )\r\n}\r\n\r\ninterface NonSerializableValue {\r\n  keyPath: string\r\n  value: unknown\r\n}\r\n\r\n/**\r\n * @public\r\n */\r\nexport function findNonSerializableValue(\r\n  value: unknown,\r\n  path: ReadonlyArray<string> = [],\r\n  isSerializable: (value: unknown) => boolean = isPlain,\r\n  getEntries?: (value: unknown) => [string, any][]\r\n): NonSerializableValue | false {\r\n  let foundNestedSerializable: NonSerializableValue | false\r\n\r\n  if (!isSerializable(value)) {\r\n    return {\r\n      keyPath: path.join('.') || '<root>',\r\n      value: value\r\n    }\r\n  }\r\n\r\n  if (typeof value !== 'object' || value === null) {\r\n    return false\r\n  }\r\n\r\n  const entries = getEntries != null ? getEntries(value) : Object.entries(value)\r\n\r\n  for (const [property, nestedValue] of entries) {\r\n    const nestedPath = path.concat(property)\r\n\r\n    if (!isSerializable(nestedValue)) {\r\n      return {\r\n        keyPath: nestedPath.join('.'),\r\n        value: nestedValue\r\n      }\r\n    }\r\n\r\n    if (typeof nestedValue === 'object') {\r\n      foundNestedSerializable = findNonSerializableValue(\r\n        nestedValue,\r\n        nestedPath,\r\n        isSerializable,\r\n        getEntries\r\n      )\r\n\r\n      if (foundNestedSerializable) {\r\n        return foundNestedSerializable\r\n      }\r\n    }\r\n  }\r\n\r\n  return false\r\n}\r\n\r\n/**\r\n * Options for `createSerializableStateInvariantMiddleware()`.\r\n *\r\n * @public\r\n */\r\nexport interface SerializableStateInvariantMiddlewareOptions {\r\n  /**\r\n   * The function to check if a value is considered serializable. This\r\n   * function is applied recursively to every value contained in the\r\n   * state. Defaults to `isPlain()`.\r\n   */\r\n  isSerializable?: (value: any) => boolean\r\n  /**\r\n   * The function that will be used to retrieve entries from each\r\n   * value.  If unspecified, `Object.entries` will be used. Defaults\r\n   * to `undefined`.\r\n   */\r\n  getEntries?: (value: any) => [string, any][]\r\n\r\n  /**\r\n   * An array of action types to ignore when checking for serializability, Defaults to []\r\n   */\r\n  ignoredActions?: string[]\r\n}\r\n\r\n/**\r\n * Creates a middleware that, after every state change, checks if the new\r\n * state is serializable. If a non-serializable value is found within the\r\n * state, an error is printed to the console.\r\n *\r\n * @param options Middleware options.\r\n *\r\n * @public\r\n */\r\nexport function createSerializableStateInvariantMiddleware(\r\n  options: SerializableStateInvariantMiddlewareOptions = {}\r\n): Middleware {\r\n  const { isSerializable = isPlain, getEntries, ignoredActions = [] } = options\r\n\r\n  return storeAPI => next => action => {\r\n    if (ignoredActions.length && ignoredActions.indexOf(action.type) !== -1) {\r\n      return next(action)\r\n    }\r\n\r\n    const foundActionNonSerializableValue = findNonSerializableValue(\r\n      action,\r\n      [],\r\n      isSerializable,\r\n      getEntries\r\n    )\r\n\r\n    if (foundActionNonSerializableValue) {\r\n      const { keyPath, value } = foundActionNonSerializableValue\r\n\r\n      console.error(\r\n        `A non-serializable value was detected in an action, in the path: \\`${keyPath}\\`. Value:`,\r\n        value,\r\n        '\\nTake a look at the logic that dispatched this action: ',\r\n        action,\r\n        '\\n(See https://redux.js.org/faq/actions#why-should-type-be-a-string-or-at-least-serializable-why-should-my-action-types-be-constants)'\r\n      )\r\n    }\r\n\r\n    const result = next(action)\r\n\r\n    const state = storeAPI.getState()\r\n\r\n    const foundStateNonSerializableValue = findNonSerializableValue(\r\n      state,\r\n      [],\r\n      isSerializable,\r\n      getEntries\r\n    )\r\n\r\n    if (foundStateNonSerializableValue) {\r\n      const { keyPath, value } = foundStateNonSerializableValue\r\n\r\n      console.error(\r\n        `A non-serializable value was detected in the state, in the path: \\`${keyPath}\\`. Value:`,\r\n        value,\r\n        `\r\nTake a look at the reducer(s) handling this action type: ${action.type}.\r\n(See https://redux.js.org/faq/organizing-state#can-i-put-functions-promises-or-other-non-serializable-items-in-my-store-state)`\r\n      )\r\n    }\r\n\r\n    return result\r\n  }\r\n}\r\n","import { Middleware } from 'redux'\r\nimport thunkMiddleware from 'redux-thunk'\r\n/* START_REMOVE_UMD */\r\nimport createImmutableStateInvariantMiddleware from 'redux-immutable-state-invariant'\r\n/* STOP_REMOVE_UMD */\r\n\r\nimport {\r\n  createSerializableStateInvariantMiddleware,\r\n  SerializableStateInvariantMiddlewareOptions\r\n} from './serializableStateInvariantMiddleware'\r\n\r\nfunction isBoolean(x: any): x is boolean {\r\n  return typeof x === 'boolean'\r\n}\r\n\r\ninterface ThunkOptions<E = any> {\r\n  extraArgument: E\r\n}\r\n\r\ninterface ImmutableStateInvariantMiddlewareOptions {\r\n  isImmutable?: (value: any) => boolean\r\n  ignore?: string[]\r\n}\r\n\r\ninterface GetDefaultMiddlewareOptions {\r\n  thunk?: boolean | ThunkOptions\r\n  immutableCheck?: boolean | ImmutableStateInvariantMiddlewareOptions\r\n  serializableCheck?: boolean | SerializableStateInvariantMiddlewareOptions\r\n}\r\n\r\n/**\r\n * Returns any array containing the default middleware installed by\r\n * `configureStore()`. Useful if you want to configure your store with a custom\r\n * `middleware` array but still keep the default set.\r\n *\r\n * @return The default middleware used by `configureStore()`.\r\n *\r\n * @public\r\n */\r\nexport function getDefaultMiddleware<S = any>(\r\n  options: GetDefaultMiddlewareOptions = {}\r\n): Middleware<{}, S>[] {\r\n  const {\r\n    thunk = true,\r\n    immutableCheck = true,\r\n    serializableCheck = true\r\n  } = options\r\n\r\n  let middlewareArray: Middleware<{}, S>[] = []\r\n\r\n  if (thunk) {\r\n    if (isBoolean(thunk)) {\r\n      middlewareArray.push(thunkMiddleware)\r\n    } else {\r\n      middlewareArray.push(\r\n        thunkMiddleware.withExtraArgument(thunk.extraArgument)\r\n      )\r\n    }\r\n  }\r\n\r\n  if (process.env.NODE_ENV !== 'production') {\r\n    if (immutableCheck) {\r\n      /* PROD_START_REMOVE_UMD */\r\n\r\n      // UMD-ONLY: const createImmutableStateInvariantMiddleware = require('redux-immutable-state-invariant').default\r\n\r\n      let immutableOptions: ImmutableStateInvariantMiddlewareOptions = {}\r\n\r\n      if (!isBoolean(immutableCheck)) {\r\n        immutableOptions = immutableCheck\r\n      }\r\n\r\n      middlewareArray.unshift(\r\n        createImmutableStateInvariantMiddleware(immutableOptions)\r\n      )\r\n\r\n      /* PROD_STOP_REMOVE_UMD */\r\n    }\r\n\r\n    if (serializableCheck) {\r\n      let serializableOptions: SerializableStateInvariantMiddlewareOptions = {}\r\n\r\n      if (!isBoolean(serializableCheck)) {\r\n        serializableOptions = serializableCheck\r\n      }\r\n\r\n      middlewareArray.push(\r\n        createSerializableStateInvariantMiddleware(serializableOptions)\r\n      )\r\n    }\r\n  }\r\n\r\n  return middlewareArray\r\n}\r\n","import {\r\n  createStore,\r\n  compose,\r\n  applyMiddleware,\r\n  combineReducers,\r\n  Reducer,\r\n  ReducersMapObject,\r\n  Middleware,\r\n  Action,\r\n  AnyAction,\r\n  StoreEnhancer,\r\n  Store,\r\n  DeepPartial\r\n} from 'redux'\r\nimport {\r\n  composeWithDevTools,\r\n  EnhancerOptions as DevToolsOptions\r\n} from 'redux-devtools-extension'\r\nimport { ThunkDispatch } from 'redux-thunk'\r\n\r\nimport isPlainObject from './isPlainObject'\r\nimport { getDefaultMiddleware } from './getDefaultMiddleware'\r\n\r\nconst IS_PRODUCTION = process.env.NODE_ENV === 'production'\r\n\r\n/**\r\n * Callback function type, to be used in `ConfigureStoreOptions.enhancers`\r\n *\r\n * @public\r\n */\r\nexport type ConfigureEnhancersCallback = (\r\n  defaultEnhancers: StoreEnhancer[]\r\n) => StoreEnhancer[]\r\n\r\n/**\r\n * Options for `configureStore()`.\r\n *\r\n * @public\r\n */\r\nexport interface ConfigureStoreOptions<S = any, A extends Action = AnyAction> {\r\n  /**\r\n   * A single reducer function that will be used as the root reducer, or an\r\n   * object of slice reducers that will be passed to `combineReducers()`.\r\n   */\r\n  reducer: Reducer<S, A> | ReducersMapObject<S, A>\r\n\r\n  /**\r\n   * An array of Redux middleware to install. If not supplied, defaults to\r\n   * the set of middleware returned by `getDefaultMiddleware()`.\r\n   */\r\n  middleware?: Middleware<{}, S>[]\r\n\r\n  /**\r\n   * Whether to enable Redux DevTools integration. Defaults to `true`.\r\n   *\r\n   * Additional configuration can be done by passing Redux DevTools options\r\n   */\r\n  devTools?: boolean | DevToolsOptions\r\n\r\n  /**\r\n   * The initial state, same as Redux's createStore.\r\n   * You may optionally specify it to hydrate the state\r\n   * from the server in universal apps, or to restore a previously serialized\r\n   * user session. If you use `combineReducers()` to produce the root reducer\r\n   * function (either directly or indirectly by passing an object as `reducer`),\r\n   * this must be an object with the same shape as the reducer map keys.\r\n   */\r\n  // NOTE: The needlessly complicated `S extends any ? S : S` instead of just\r\n  // `S` ensures that the TypeScript compiler doesn't attempt to infer `S`\r\n  // based on the value passed as `preloadedState`, which might be a partial\r\n  // state rather than the full thing.\r\n  preloadedState?: DeepPartial<S extends any ? S : S>\r\n\r\n  /**\r\n   * The store enhancers to apply. See Redux's `createStore()`.\r\n   * All enhancers will be included before the DevTools Extension enhancer.\r\n   * If you need to customize the order of enhancers, supply a callback\r\n   * function that will receive the original array (ie, `[applyMiddleware]`),\r\n   * and should return a new array (such as `[applyMiddleware, offline]`).\r\n   * If you only need to add middleware, you can use the `middleware` parameter instaead.\r\n   */\r\n  enhancers?: StoreEnhancer[] | ConfigureEnhancersCallback\r\n}\r\n\r\n/**\r\n * A Redux store returned by `configureStore()`. Supports dispatching\r\n * side-effectful _thunks_ in addition to plain actions.\r\n *\r\n * @public\r\n */\r\nexport interface EnhancedStore<S = any, A extends Action = AnyAction>\r\n  extends Store<S, A> {\r\n  /**\r\n   * @inheritdoc\r\n   */\r\n  dispatch: ThunkDispatch<S, any, A>\r\n}\r\n\r\n/**\r\n * A friendly abstraction over the standard Redux `createStore()` function.\r\n *\r\n * @param config The store configuration.\r\n * @returns A configured Redux store.\r\n *\r\n * @public\r\n */\r\nexport function configureStore<S = any, A extends Action = AnyAction>(\r\n  options: ConfigureStoreOptions<S, A>\r\n): EnhancedStore<S, A> {\r\n  const {\r\n    reducer = undefined,\r\n    middleware = getDefaultMiddleware(),\r\n    devTools = true,\r\n    preloadedState = undefined,\r\n    enhancers = undefined\r\n  } = options || {}\r\n\r\n  let rootReducer: Reducer<S, A>\r\n\r\n  if (typeof reducer === 'function') {\r\n    rootReducer = reducer\r\n  } else if (isPlainObject(reducer)) {\r\n    rootReducer = combineReducers(reducer)\r\n  } else {\r\n    throw new Error(\r\n      '\"reducer\" is a required argument, and must be a function or an object of functions that can be passed to combineReducers'\r\n    )\r\n  }\r\n\r\n  const middlewareEnhancer = applyMiddleware(...middleware)\r\n\r\n  let finalCompose = compose\r\n\r\n  if (devTools) {\r\n    finalCompose = composeWithDevTools({\r\n      // Enable capture of stack traces for dispatched Redux actions\r\n      trace: !IS_PRODUCTION,\r\n      ...(typeof devTools === 'object' && devTools)\r\n    })\r\n  }\r\n\r\n  let storeEnhancers: StoreEnhancer[] = [middlewareEnhancer]\r\n\r\n  if (Array.isArray(enhancers)) {\r\n    storeEnhancers = [middlewareEnhancer, ...enhancers]\r\n  } else if (typeof enhancers === 'function') {\r\n    storeEnhancers = enhancers(storeEnhancers)\r\n  }\r\n\r\n  const composedEnhancer = finalCompose(...storeEnhancers) as StoreEnhancer\r\n\r\n  return createStore(\r\n    rootReducer,\r\n    preloadedState as DeepPartial<S>,\r\n    composedEnhancer\r\n  )\r\n}\r\n","import { Action } from 'redux'\r\nimport {\r\n  IsUnknownOrNonInferrable,\r\n  IfMaybeUndefined,\r\n  IfVoid,\r\n  IsAny\r\n} from './tsHelpers'\r\n\r\n/**\r\n * An action with a string type and an associated payload. This is the\r\n * type of action returned by `createAction()` action creators.\r\n *\r\n * @template P The type of the action's payload.\r\n * @template T the type used for the action type.\r\n * @template M The type of the action's meta (optional)\r\n * @template E The type of the action's error (optional)\r\n *\r\n * @public\r\n */\r\nexport type PayloadAction<\r\n  P = void,\r\n  T extends string = string,\r\n  M = never,\r\n  E = never\r\n> = {\r\n  payload: P\r\n  type: T\r\n} & ([M] extends [never]\r\n  ? {}\r\n  : {\r\n      meta: M\r\n    }) &\r\n  ([E] extends [never]\r\n    ? {}\r\n    : {\r\n        error: E\r\n      })\r\n\r\n/**\r\n * A \"prepare\" method to be used as the second parameter of `createAction`.\r\n * Takes any number of arguments and returns a Flux Standard Action without\r\n * type (will be added later) that *must* contain a payload (might be undefined).\r\n *\r\n * @public\r\n */\r\nexport type PrepareAction<P> =\r\n  | ((...args: any[]) => { payload: P })\r\n  | ((...args: any[]) => { payload: P; meta: any })\r\n  | ((...args: any[]) => { payload: P; error: any })\r\n  | ((...args: any[]) => { payload: P; meta: any; error: any })\r\n\r\n/**\r\n * Internal version of `ActionCreatorWithPreparedPayload`. Not to be used externally.\r\n *\r\n * @internal\r\n */\r\nexport type _ActionCreatorWithPreparedPayload<\r\n  PA extends PrepareAction<any> | void,\r\n  T extends string = string\r\n> = PA extends PrepareAction<infer P>\r\n  ? ActionCreatorWithPreparedPayload<\r\n      Parameters<PA>,\r\n      P,\r\n      T,\r\n      ReturnType<PA> extends {\r\n        error: infer E\r\n      }\r\n        ? E\r\n        : never,\r\n      ReturnType<PA> extends {\r\n        meta: infer M\r\n      }\r\n        ? M\r\n        : never\r\n    >\r\n  : void\r\n\r\n/**\r\n * Basic type for all action creators.\r\n *\r\n * @inheritdoc {redux#ActionCreator}\r\n */\r\ninterface BaseActionCreator<P, T extends string, M = never, E = never> {\r\n  type: T\r\n  match(action: Action<unknown>): action is PayloadAction<P, T, M, E>\r\n}\r\n\r\n/**\r\n * An action creator that takes multiple arguments that are passed\r\n * to a `PrepareAction` method to create the final Action.\r\n * @typeParam Args arguments for the action creator function\r\n * @typeParam P `payload` type\r\n * @typeParam T `type` name\r\n * @typeParam E optional `error` type\r\n * @typeParam M optional `meta` type\r\n *\r\n * @inheritdoc {redux#ActionCreator}\r\n *\r\n * @public\r\n */\r\nexport interface ActionCreatorWithPreparedPayload<\r\n  Args extends unknown[],\r\n  P,\r\n  T extends string = string,\r\n  E = never,\r\n  M = never\r\n> extends BaseActionCreator<P, T, M, E> {\r\n  /**\r\n   * Calling this {@link redux#ActionCreator} with `Args` will return\r\n   * an Action with a payload of type `P` and (depending on the `PrepareAction`\r\n   * method used) a `meta`- and `error` property of types `M` and `E` respectively.\r\n   */\r\n  (...args: Args): PayloadAction<P, T, M, E>\r\n}\r\n\r\n/**\r\n * An action creator of type `T` that takes an optional payload of type `P`.\r\n *\r\n * @inheritdoc {redux#ActionCreator}\r\n *\r\n * @public\r\n */\r\nexport interface ActionCreatorWithOptionalPayload<P, T extends string = string>\r\n  extends BaseActionCreator<P, T> {\r\n  /**\r\n   * Calling this {@link redux#ActionCreator} without arguments will\r\n   * return a {@link PayloadAction} of type `T` with a payload of `undefined`\r\n   */\r\n  (payload?: undefined): PayloadAction<undefined, T>\r\n  /**\r\n   * Calling this {@link redux#ActionCreator} with an argument will\r\n   * return a {@link PayloadAction} of type `T` with a payload of `P`\r\n   */\r\n  <PT extends Diff<P, undefined>>(payload?: PT): PayloadAction<PT, T>\r\n}\r\n\r\n/**\r\n * An action creator of type `T` that takes no payload.\r\n *\r\n * @inheritdoc {redux#ActionCreator}\r\n *\r\n * @public\r\n */\r\nexport interface ActionCreatorWithoutPayload<T extends string = string>\r\n  extends BaseActionCreator<undefined, T> {\r\n  /**\r\n   * Calling this {@link redux#ActionCreator} will\r\n   * return a {@link PayloadAction} of type `T` with a payload of `undefined`\r\n   */\r\n  (): PayloadAction<undefined, T>\r\n}\r\n\r\n/**\r\n * An action creator of type `T` that requires a payload of type P.\r\n *\r\n * @inheritdoc {redux#ActionCreator}\r\n *\r\n * @public\r\n */\r\nexport interface ActionCreatorWithPayload<P, T extends string = string>\r\n  extends BaseActionCreator<P, T> {\r\n  /**\r\n   * Calling this {@link redux#ActionCreator} with an argument will\r\n   * return a {@link PayloadAction} of type `T` with a payload of `P`\r\n   * If possible, `P` will be narrowed down to the exact type of the payload argument.\r\n   */\r\n  <PT extends P>(payload: PT): PayloadAction<PT, T>\r\n  /**\r\n   * Calling this {@link redux#ActionCreator} with an argument will\r\n   * return a {@link PayloadAction} of type `T` with a payload of `P`\r\n   */\r\n  (payload: P): PayloadAction<P, T>\r\n}\r\n\r\n/**\r\n * An action creator of type `T` whose `payload` type could not be inferred. Accepts everything as `payload`.\r\n *\r\n * @inheritdoc {redux#ActionCreator}\r\n *\r\n * @public\r\n */\r\nexport interface ActionCreatorWithNonInferrablePayload<\r\n  T extends string = string\r\n> extends BaseActionCreator<unknown, T> {\r\n  /**\r\n   * Calling this {@link redux#ActionCreator} with an argument will\r\n   * return a {@link PayloadAction} of type `T` with a payload\r\n   * of exactly the type of the argument.\r\n   */\r\n  <PT extends unknown>(payload: PT): PayloadAction<PT, T>\r\n}\r\n\r\n/**\r\n * An action creator that produces actions with a `payload` attribute.\r\n *\r\n * @typeParam P the `payload` type\r\n * @typeParam T the `type` of the resulting action\r\n * @typeParam PA if the resulting action is preprocessed by a `prepare` method, the signature of said method.\r\n *\r\n * @public\r\n */\r\nexport type PayloadActionCreator<\r\n  P = void,\r\n  T extends string = string,\r\n  PA extends PrepareAction<P> | void = void\r\n> = IfPrepareActionMethodProvided<\r\n  PA,\r\n  _ActionCreatorWithPreparedPayload<PA, T>,\r\n  // else\r\n  IsAny<\r\n    P,\r\n    ActionCreatorWithPayload<any, T>,\r\n    IsUnknownOrNonInferrable<\r\n      P,\r\n      ActionCreatorWithNonInferrablePayload<T>,\r\n      // else\r\n      IfVoid<\r\n        P,\r\n        ActionCreatorWithoutPayload<T>,\r\n        // else\r\n        IfMaybeUndefined<\r\n          P,\r\n          ActionCreatorWithOptionalPayload<P, T>,\r\n          // else\r\n          ActionCreatorWithPayload<P, T>\r\n        >\r\n      >\r\n    >\r\n  >\r\n>\r\n\r\n/**\r\n * A utility function to create an action creator for the given action type\r\n * string. The action creator accepts a single argument, which will be included\r\n * in the action object as a field called payload. The action creator function\r\n * will also have its toString() overriden so that it returns the action type,\r\n * allowing it to be used in reducer logic that is looking for that action type.\r\n *\r\n * @param type The action type to use for created actions.\r\n * @param prepare (optional) a method that takes any number of arguments and returns { payload } or { payload, meta }.\r\n *                If this is given, the resulting action creator will pass it's arguments to this method to calculate payload & meta.\r\n *\r\n * @public\r\n */\r\nexport function createAction<P = void, T extends string = string>(\r\n  type: T\r\n): PayloadActionCreator<P, T>\r\n\r\n/**\r\n * A utility function to create an action creator for the given action type\r\n * string. The action creator accepts a single argument, which will be included\r\n * in the action object as a field called payload. The action creator function\r\n * will also have its toString() overriden so that it returns the action type,\r\n * allowing it to be used in reducer logic that is looking for that action type.\r\n *\r\n * @param type The action type to use for created actions.\r\n * @param prepare (optional) a method that takes any number of arguments and returns { payload } or { payload, meta }.\r\n *                If this is given, the resulting action creator will pass it's arguments to this method to calculate payload & meta.\r\n *\r\n * @public\r\n */\r\nexport function createAction<\r\n  PA extends PrepareAction<any>,\r\n  T extends string = string\r\n>(\r\n  type: T,\r\n  prepareAction: PA\r\n): PayloadActionCreator<ReturnType<PA>['payload'], T, PA>\r\n\r\nexport function createAction(type: string, prepareAction?: Function): any {\r\n  function actionCreator(...args: any[]) {\r\n    if (prepareAction) {\r\n      let prepared = prepareAction(...args)\r\n      if (!prepared) {\r\n        throw new Error('prepareAction did not return an object')\r\n      }\r\n\r\n      return {\r\n        type,\r\n        payload: prepared.payload,\r\n        ...('meta' in prepared && { meta: prepared.meta }),\r\n        ...('error' in prepared && { error: prepared.error })\r\n      }\r\n    }\r\n    return { type, payload: args[0] }\r\n  }\r\n\r\n  actionCreator.toString = () => `${type}`\r\n\r\n  actionCreator.type = type\r\n\r\n  actionCreator.match = (action: Action<unknown>): action is PayloadAction =>\r\n    action.type === type\r\n\r\n  return actionCreator\r\n}\r\n\r\n/**\r\n * Returns the action type of the actions created by the passed\r\n * `createAction()`-generated action creator (arbitrary action creators\r\n * are not supported).\r\n *\r\n * @param action The action creator whose action type to get.\r\n * @returns The action type used by the action creator.\r\n *\r\n * @public\r\n */\r\nexport function getType<T extends string>(\r\n  actionCreator: PayloadActionCreator<any, T>\r\n): T {\r\n  return `${actionCreator}` as T\r\n}\r\n\r\n// helper types for more readable typings\r\n\r\ntype Diff<T, U> = T extends U ? never : T\r\n\r\ntype IfPrepareActionMethodProvided<\r\n  PA extends PrepareAction<any> | void,\r\n  True,\r\n  False\r\n> = PA extends (...args: any[]) => any ? True : False\r\n","import { Action } from 'redux'\r\nimport { CaseReducer, CaseReducers } from './createReducer'\r\n\r\nexport interface TypedActionCreator<Type extends string> {\r\n  (...args: any[]): Action<Type>\r\n  type: Type\r\n}\r\n\r\n/**\r\n * A builder for an action <-> reducer map.\r\n *\r\n * @public\r\n */\r\nexport interface ActionReducerMapBuilder<State> {\r\n  /**\r\n   * Add a case reducer for actions created by this action creator.\r\n   * @param actionCreator\r\n   * @param reducer\r\n   */\r\n  addCase<ActionCreator extends TypedActionCreator<string>>(\r\n    actionCreator: ActionCreator,\r\n    reducer: CaseReducer<State, ReturnType<ActionCreator>>\r\n  ): ActionReducerMapBuilder<State>\r\n  /**\r\n   * Add a case reducer for actions with the specified type.\r\n   * @param type\r\n   * @param reducer\r\n   */\r\n  addCase<Type extends string, A extends Action<Type>>(\r\n    type: Type,\r\n    reducer: CaseReducer<State, A>\r\n  ): ActionReducerMapBuilder<State>\r\n}\r\n\r\nexport function executeReducerBuilderCallback<S>(\r\n  builderCallback: (builder: ActionReducerMapBuilder<S>) => void\r\n): CaseReducers<S, any> {\r\n  const actionsMap: CaseReducers<S, any> = {}\r\n  const builder = {\r\n    addCase(\r\n      typeOrActionCreator: string | TypedActionCreator<any>,\r\n      reducer: CaseReducer<S>\r\n    ) {\r\n      const type =\r\n        typeof typeOrActionCreator === 'string'\r\n          ? typeOrActionCreator\r\n          : typeOrActionCreator.type\r\n      if (type in actionsMap) {\r\n        throw new Error(\r\n          'addCase cannot be called with two reducers for the same action type'\r\n        )\r\n      }\r\n      actionsMap[type] = reducer\r\n      return builder\r\n    }\r\n  }\r\n  builderCallback(builder)\r\n  return actionsMap\r\n}\r\n","import createNextState, { Draft } from 'immer'\r\nimport { AnyAction, Action, Reducer } from 'redux'\r\nimport {\r\n  executeReducerBuilderCallback,\r\n  ActionReducerMapBuilder\r\n} from './mapBuilders'\r\n\r\n/**\r\n * Defines a mapping from action types to corresponding action object shapes.\r\n *\r\n * @deprecated This should not be used manually - it is only used for internal\r\n *             inference purposes and should not have any further value.\r\n *             It might be removed in the future.\r\n * @public\r\n */\r\nexport type Actions<T extends keyof any = string> = Record<T, Action>\r\n\r\n/**\r\n * An *case reducer* is a reducer function for a specific action type. Case\r\n * reducers can be composed to full reducers using `createReducer()`.\r\n *\r\n * Unlike a normal Redux reducer, a case reducer is never called with an\r\n * `undefined` state to determine the initial state. Instead, the initial\r\n * state is explicitly specified as an argument to `createReducer()`.\r\n *\r\n * In addition, a case reducer can choose to mutate the passed-in `state`\r\n * value directly instead of returning a new state. This does not actually\r\n * cause the store state to be mutated directly; instead, thanks to\r\n * [immer](https://github.com/mweststrate/immer), the mutations are\r\n * translated to copy operations that result in a new state.\r\n *\r\n * @public\r\n */\r\nexport type CaseReducer<S = any, A extends Action = AnyAction> = (\r\n  state: Draft<S>,\r\n  action: A\r\n) => S | void\r\n\r\n/**\r\n * A mapping from action types to case reducers for `createReducer()`.\r\n *\r\n * @deprecated This should not be used manually - it is only used\r\n *             for internal inference purposes and using it manually\r\n *             would lead to type erasure.\r\n *             It might be removed in the future.\r\n * @public\r\n */\r\nexport type CaseReducers<S, AS extends Actions> = {\r\n  [T in keyof AS]: AS[T] extends Action ? CaseReducer<S, AS[T]> : void\r\n}\r\n\r\n/**\r\n * A utility function that allows defining a reducer as a mapping from action\r\n * type to *case reducer* functions that handle these action types. The\r\n * reducer's initial state is passed as the first argument.\r\n *\r\n * The body of every case reducer is implicitly wrapped with a call to\r\n * `produce()` from the [immer](https://github.com/mweststrate/immer) library.\r\n * This means that rather than returning a new state object, you can also\r\n * mutate the passed-in state object directly; these mutations will then be\r\n * automatically and efficiently translated into copies, giving you both\r\n * convenience and immutability.\r\n *\r\n * @param initialState The initial state to be returned by the reducer.\r\n * @param actionsMap A mapping from action types to action-type-specific\r\n *   case reducers.\r\n *\r\n * @public\r\n */\r\nexport function createReducer<\r\n  S,\r\n  CR extends CaseReducers<S, any> = CaseReducers<S, any>\r\n>(initialState: S, actionsMap: CR): Reducer<S>\r\n/**\r\n * A utility function that allows defining a reducer as a mapping from action\r\n * type to *case reducer* functions that handle these action types. The\r\n * reducer's initial state is passed as the first argument.\r\n *\r\n * The body of every case reducer is implicitly wrapped with a call to\r\n * `produce()` from the [immer](https://github.com/mweststrate/immer) library.\r\n * This means that rather than returning a new state object, you can also\r\n * mutate the passed-in state object directly; these mutations will then be\r\n * automatically and efficiently translated into copies, giving you both\r\n * convenience and immutability.\r\n * @param initialState The initial state to be returned by the reducer.\r\n * @param builderCallback A callback that receives a *builder* object to define\r\n *   case reducers via calls to `builder.addCase(actionCreatorOrType, reducer)`.\r\n *\r\n * @public\r\n */\r\nexport function createReducer<S>(\r\n  initialState: S,\r\n  builderCallback: (builder: ActionReducerMapBuilder<S>) => void\r\n): Reducer<S>\r\n\r\nexport function createReducer<S>(\r\n  initialState: S,\r\n  mapOrBuilderCallback:\r\n    | CaseReducers<S, any>\r\n    | ((builder: ActionReducerMapBuilder<S>) => void)\r\n): Reducer<S> {\r\n  let actionsMap =\r\n    typeof mapOrBuilderCallback === 'function'\r\n      ? executeReducerBuilderCallback(mapOrBuilderCallback)\r\n      : mapOrBuilderCallback\r\n\r\n  return function(state = initialState, action): S {\r\n    // @ts-ignore createNextState() produces an Immutable<Draft<S>> rather\r\n    // than an Immutable<S>, and TypeScript cannot find out how to reconcile\r\n    // these two types.\r\n    return createNextState(state, (draft: Draft<S>) => {\r\n      const caseReducer = actionsMap[action.type]\r\n      return caseReducer ? caseReducer(draft, action) : undefined\r\n    })\r\n  }\r\n}\r\n","import { Reducer } from 'redux'\r\nimport {\r\n  createAction,\r\n  PayloadAction,\r\n  PayloadActionCreator,\r\n  PrepareAction,\r\n  ActionCreatorWithoutPayload,\r\n  _ActionCreatorWithPreparedPayload\r\n} from './createAction'\r\nimport { createReducer, CaseReducers, CaseReducer } from './createReducer'\r\nimport {\r\n  ActionReducerMapBuilder,\r\n  executeReducerBuilderCallback\r\n} from './mapBuilders'\r\n\r\n/**\r\n * An action creator atttached to a slice.\r\n *\r\n * @deprecated please use PayloadActionCreator directly\r\n *\r\n * @public\r\n */\r\nexport type SliceActionCreator<P> = PayloadActionCreator<P>\r\n\r\n/**\r\n * The return value of `createSlice`\r\n *\r\n * @public\r\n */\r\nexport interface Slice<\r\n  State = any,\r\n  CaseReducers extends SliceCaseReducers<State> = SliceCaseReducers<State>\r\n> {\r\n  /**\r\n   * The slice name.\r\n   */\r\n  name: string\r\n\r\n  /**\r\n   * The slice's reducer.\r\n   */\r\n  reducer: Reducer<State>\r\n\r\n  /**\r\n   * Action creators for the types of actions that are handled by the slice\r\n   * reducer.\r\n   */\r\n  actions: CaseReducerActions<CaseReducers>\r\n\r\n  /**\r\n   * The individual case reducer functions that were passed in the `reducers` parameter.\r\n   * This enables reuse and testing if they were defined inline when calling `createSlice`.\r\n   */\r\n  caseReducers: SliceDefinedCaseReducers<CaseReducers>\r\n}\r\n\r\n/**\r\n * Options for `createSlice()`.\r\n *\r\n * @public\r\n */\r\nexport interface CreateSliceOptions<\r\n  State = any,\r\n  CR extends SliceCaseReducers<State> = SliceCaseReducers<State>\r\n> {\r\n  /**\r\n   * The slice's name. Used to namespace the generated action types.\r\n   */\r\n  name: string\r\n\r\n  /**\r\n   * The initial state to be returned by the slice reducer.\r\n   */\r\n  initialState: State\r\n\r\n  /**\r\n   * A mapping from action types to action-type-specific *case reducer*\r\n   * functions. For every action type, a matching action creator will be\r\n   * generated using `createAction()`.\r\n   */\r\n  reducers: ValidateSliceCaseReducers<State, CR>\r\n\r\n  /**\r\n   * A mapping from action types to action-type-specific *case reducer*\r\n   * functions. These reducers should have existing action types used\r\n   * as the keys, and action creators will _not_ be generated.\r\n   * Alternatively, a callback that receives a *builder* object to define\r\n   * case reducers via calls to `builder.addCase(actionCreatorOrType, reducer)`.\r\n   */\r\n  extraReducers?:\r\n    | CaseReducers<NoInfer<State>, any>\r\n    | ((builder: ActionReducerMapBuilder<NoInfer<State>>) => void)\r\n}\r\n\r\n/**\r\n * A CaseReducer with a `prepare` method.\r\n *\r\n * @public\r\n */\r\nexport type CaseReducerWithPrepare<State, Action extends PayloadAction> = {\r\n  reducer: CaseReducer<State, Action>\r\n  prepare: PrepareAction<Action['payload']>\r\n}\r\n\r\n/**\r\n * The type describing a slice's `reducers` option.\r\n *\r\n * @public\r\n */\r\nexport type SliceCaseReducers<State> = {\r\n  [K: string]:\r\n    | CaseReducer<State, PayloadAction<any>>\r\n    | CaseReducerWithPrepare<State, PayloadAction<any>>\r\n}\r\n\r\n/**\r\n * Derives the slice's `actions` property from the `reducers` options\r\n *\r\n * @public\r\n */\r\nexport type CaseReducerActions<CaseReducers extends SliceCaseReducers<any>> = {\r\n  [Type in keyof CaseReducers]: CaseReducers[Type] extends { prepare: any }\r\n    ? ActionCreatorForCaseReducerWithPrepare<CaseReducers[Type]>\r\n    : ActionCreatorForCaseReducer<CaseReducers[Type]>\r\n}\r\n\r\n/**\r\n * Get a `PayloadActionCreator` type for a passed `CaseReducerWithPrepare`\r\n *\r\n * @internal\r\n */\r\ntype ActionCreatorForCaseReducerWithPrepare<\r\n  CR extends { prepare: any }\r\n> = _ActionCreatorWithPreparedPayload<CR['prepare'], string>\r\n\r\n/**\r\n * Get a `PayloadActionCreator` type for a passed `CaseReducer`\r\n *\r\n * @internal\r\n */\r\ntype ActionCreatorForCaseReducer<CR> = CR extends (\r\n  state: any,\r\n  action: infer Action\r\n) => any\r\n  ? Action extends { payload: infer P }\r\n    ? PayloadActionCreator<P>\r\n    : ActionCreatorWithoutPayload\r\n  : ActionCreatorWithoutPayload\r\n\r\n/**\r\n * Extracts the CaseReducers out of a `reducers` object, even if they are\r\n * tested into a `CaseReducerWithPrepare`.\r\n *\r\n * @internal\r\n */\r\ntype SliceDefinedCaseReducers<CaseReducers extends SliceCaseReducers<any>> = {\r\n  [Type in keyof CaseReducers]: CaseReducers[Type] extends {\r\n    reducer: infer Reducer\r\n  }\r\n    ? Reducer\r\n    : CaseReducers[Type]\r\n}\r\n\r\n/**\r\n * Helper type. Passes T out again, but boxes it in a way that it cannot\r\n * \"widen\" the type by accident if it is a generic that should be inferred\r\n * from elsewhere.\r\n *\r\n * @internal\r\n */\r\ntype NoInfer<T> = [T][T extends any ? 0 : never]\r\n\r\n/**\r\n * Used on a SliceCaseReducers object.\r\n * Ensures that if a CaseReducer is a `CaseReducerWithPrepare`, that\r\n * the `reducer` and the `prepare` function use the same type of `payload`.\r\n *\r\n * Might do additional such checks in the future.\r\n *\r\n * This type is only ever useful if you want to write your own wrapper around\r\n * `createSlice`. Please don't use it otherwise!\r\n *\r\n * @public\r\n */\r\nexport type ValidateSliceCaseReducers<\r\n  S,\r\n  ACR extends SliceCaseReducers<S>\r\n> = ACR &\r\n  {\r\n    [P in keyof ACR]: ACR[P] extends {\r\n      reducer(s: S, action?: { payload: infer O }): any\r\n    }\r\n      ? {\r\n          prepare(...a: never[]): { payload: O }\r\n        }\r\n      : {}\r\n  }\r\n\r\nfunction getType(slice: string, actionKey: string): string {\r\n  return `${slice}/${actionKey}`\r\n}\r\n\r\n/**\r\n * A function that accepts an initial state, an object full of reducer\r\n * functions, and a \"slice name\", and automatically generates\r\n * action creators and action types that correspond to the\r\n * reducers and state.\r\n *\r\n * The `reducer` argument is passed to `createReducer()`.\r\n *\r\n * @public\r\n */\r\nexport function createSlice<\r\n  State,\r\n  CaseReducers extends SliceCaseReducers<State>\r\n>(\r\n  options: CreateSliceOptions<State, CaseReducers>\r\n): Slice<State, CaseReducers> {\r\n  const { name, initialState } = options\r\n  if (!name) {\r\n    throw new Error('`name` is a required option for createSlice')\r\n  }\r\n  const reducers = options.reducers || {}\r\n  const extraReducers =\r\n    typeof options.extraReducers === 'undefined'\r\n      ? {}\r\n      : typeof options.extraReducers === 'function'\r\n      ? executeReducerBuilderCallback(options.extraReducers)\r\n      : options.extraReducers\r\n\r\n  const reducerNames = Object.keys(reducers)\r\n\r\n  const sliceCaseReducersByName: Record<string, CaseReducer> = {}\r\n  const sliceCaseReducersByType: Record<string, CaseReducer> = {}\r\n  const actionCreators: Record<string, Function> = {}\r\n\r\n  reducerNames.forEach(reducerName => {\r\n    const maybeReducerWithPrepare = reducers[reducerName]\r\n    const type = getType(name, reducerName)\r\n\r\n    let caseReducer: CaseReducer<State, any>\r\n    let prepareCallback: PrepareAction<any> | undefined\r\n\r\n    if ('reducer' in maybeReducerWithPrepare) {\r\n      caseReducer = maybeReducerWithPrepare.reducer\r\n      prepareCallback = maybeReducerWithPrepare.prepare\r\n    } else {\r\n      caseReducer = maybeReducerWithPrepare\r\n    }\r\n\r\n    sliceCaseReducersByName[reducerName] = caseReducer\r\n    sliceCaseReducersByType[type] = caseReducer\r\n    actionCreators[reducerName] = prepareCallback\r\n      ? createAction(type, prepareCallback)\r\n      : createAction(type)\r\n  })\r\n\r\n  const finalCaseReducers = { ...extraReducers, ...sliceCaseReducersByType }\r\n  const reducer = createReducer(initialState, finalCaseReducers as any)\r\n\r\n  return {\r\n    name,\r\n    reducer,\r\n    actions: actionCreators as any,\r\n    caseReducers: sliceCaseReducersByName as any\r\n  }\r\n}\r\n"],"names":["ponyfill","$$observable","NOTHING","Symbol","DRAFTABLE","for","const","DRAFT_STATE","isDraft","value","isDraftable","isPlainObject","constructor","Array","isArray","proto","Object","getPrototypeOf","prototype","assign","target","let","key","has","ownKeys","Reflect","getOwnPropertySymbols","obj","getOwnPropertyNames","concat","shallowCopy","base","invokeGetters","slice","clone","create","forEach","desc","getOwnPropertyDescriptor","get","Error","call","enumerable","defineProperty","writable","configurable","each","cb","i","length","isEnumerable","prop","thing","hasOwnProperty","is","x","y","map","cloned","deepFreeze","isFrozen","freeze","ImmerScope","parent","drafts","canAutoFreeze","patches","usePatches","patchListener","inversePatches","revoke","leave","current","enter","draft","descriptors","willFinalize","scope","result","isReplaced","finalizing","markChangesRecursively","markChangesSweep","createProxy","clonePotentialDraft","proxyProperty","state","modified","finalized","assigned","copy","revoked","createHiddenProperty","push","source","peek","assertUnrevoked","prepareCopy","set","markChanged","JSON","stringify","hasArrayChanges","hasObjectChanges","object","keys","undefined","baseValue","descriptor","Proxy","revocable","arrayTraps","objectTraps","proxy","deleteProperty","setPrototypeOf","fn","arguments","apply","isNaN","parseInt","isUnchanged","owner","generatePatches","basePath","generateArrayPatches","generateObjectPatches","delta","start","end","path","op","replaceCount","assignedValue","origValue","applyPatches","patch","join","splice","verifyMinified","configDefaults","useProxies","autoFreeze","process","name","onAssign","onDelete","onCopy","Immer","config","setUseProxies","produce","bind","recipe","defaultBase","self","curriedProduce","this","args","hasError","Promise","then","processResult","error","maybeFreeze","produceWithPatches","arg1","arg2","arg3","nextState","p","ip","createDraft","isManual","finishDraft","setAutoFreeze","modernProxy","legacyProxy","baseDraft","finalize","finalizeTree","root","rootPath","needPatches","finalizeProperty","isDraftProp","deep","immer","require$$0","isPlain","val","findNonSerializableValue","isSerializable","getEntries","foundNestedSerializable","keyPath","entries","property","nestedValue","nestedPath","createSerializableStateInvariantMiddleware","options","ignoredActions","storeAPI","next","action","indexOf","type","foundActionNonSerializableValue","console","getState","foundStateNonSerializableValue","isBoolean","getDefaultMiddleware","thunk","immutableCheck","serializableCheck","middlewareArray","thunkMiddleware","withExtraArgument","extraArgument","createImmutableStateInvariantMiddleware","require","immutableOptions","unshift","serializableOptions","IS_PRODUCTION","configureStore","reducer","middleware","devTools","preloadedState","enhancers","rootReducer","combineReducers","middlewareEnhancer","applyMiddleware","finalCompose","compose","composeWithDevTools","trace","storeEnhancers","composedEnhancer","createStore","createAction","prepareAction","actionCreator","prepared","payload","meta","toString","match","getType","executeReducerBuilderCallback","builderCallback","actionsMap","builder","addCase","typeOrActionCreator","createReducer","initialState","mapOrBuilderCallback","createNextState","caseReducer","actionKey","createSlice","reducers","extraReducers","reducerNames","sliceCaseReducersByName","sliceCaseReducersByType","actionCreators","reducerName","maybeReducerWithPrepare","prepareCallback","prepare","finalCaseReducers","actions","caseReducers"],"mappings":"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"}