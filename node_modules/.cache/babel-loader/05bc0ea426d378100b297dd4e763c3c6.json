{"ast":null,"code":"import _defineProperty from\"/home/dongwoo/task/timeweb/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _slicedToArray from\"/home/dongwoo/task/timeweb/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import React,{useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{useDropzone}from'react-dropzone';import{makeStyles}from'@material-ui/core/styles';import Typography from'@material-ui/core/Typography';import Button from'@material-ui/core/Button';import Paper from'@material-ui/core/Paper';import TextField from'@material-ui/core/TextField';import Grid from'@material-ui/core/Grid';import CreateIcon from'@material-ui/icons/Create';import PlusImg from'../components/img/thumbnail.png';var useStyles=makeStyles(function(theme){return{paper:{padding:theme.spacing(3,2),margin:theme.spacing(3)},appbar:{flexGrow:1,backgroundColor:'#ffeb3b'},menuButton:{marginRight:theme.spacing(2)},title:{flexGrow:1},lettertitle:{marginTop:12,padding:6}};});var thumbsContainer={display:'flex',flexDirection:'row',flexWrap:'wrap'};export default function WriteMail(){var classes=useStyles();var dispatch=useDispatch();var letter=useSelector(function(state){return state.rootReducer.letter;},[]);var openpage=useSelector(function(state){return state.rootReducer.openpage;},[]);var _React$useState=React.useState([]),_React$useState2=_slicedToArray(_React$useState,2),files=_React$useState2[0],setFiles=_React$useState2[1];useEffect(function(){return function(){// Make sure to revoke the data uris to avoid memory leaks\nfiles.forEach(function(file){return URL.revokeObjectURL(file.preview);});};},[files]);var _useDropzone=useDropzone({accept:'image/*',onDrop:function onDrop(acceptedFiles){setFiles(acceptedFiles.map(function(file){return Object.assign(file,{preview:URL.createObjectURL(file)});}));dispatch({type:'ADD_LETTER',letter:_objectSpread({},letter,{img:acceptedFiles})});}}),getRootProps=_useDropzone.getRootProps,getInputProps=_useDropzone.getInputProps;var thumbs=files.map(function(file){return React.createElement(\"div\",{key:file.name},React.createElement(\"div\",null,React.createElement(\"img\",{src:file.preview,alt:\"\",heigth:\"100%\",width:\"100%\"})));});var handleWriting=function handleWriting(e){dispatch({type:'ADD_LETTER',letter:_objectSpread({},letter,_defineProperty({},e.target.id,e.target.value))});};return React.createElement(\"div\",{hidden:!openpage.letter},React.createElement(Paper,{className:classes.paper},React.createElement(Grid,{container:true,className:classes.lettertitle},React.createElement(Typography,{variant:\"h4\"},\"\\uD3B8\\uC9C0 \\uC4F0\\uAE30\"),React.createElement(CreateIcon,null)),React.createElement(Grid,{container:true},React.createElement(Grid,{item:true,xs:3},React.createElement(Typography,{variant:\"h5\",className:classes.lettertitle},\"\\uC81C\\uBAA9\")),React.createElement(Grid,{item:true,xs:9},React.createElement(TextField,{id:\"title\",placeholder:\"\\uBBF8\\uB798\\uC758 \\uB098\\uC5D0\\uAC8C!\",fullWidth:true,margin:\"normal\",onChange:handleWriting}))),React.createElement(\"div\",getRootProps(),React.createElement(\"input\",getInputProps()),files[0]!==undefined?React.createElement(\"aside\",{style:thumbsContainer},thumbs):React.createElement(\"img\",{src:PlusImg,alt:\"\\uC0AC\\uC9C4\\uC744 \\uB04C\\uC5B4\\uB2E4 \\uB193\\uC73C\\uC2DC\\uAC70\\uB098 \\uD074\\uB9AD\\uD558\\uC2DC\\uC624\",heigth:\"100%\",width:\"100%\"})),React.createElement(TextField,{id:\"body\",placeholder:\"\\uB098\\uB294 \\uACFC\\uC5F0 \\uBBF8\\uB798\\uC5D0 \\uBB34\\uC5C7\\uC744 \\uD558\\uACE0 \\uC788\\uC744\\uAC00??\",margin:\"normal\",fullWidth:true,variant:\"outlined\",multiline:true,rows:\"20\",rowsMax:\"20\",onChange:handleWriting}),React.createElement(Button,{variant:\"contained\",fullWidth:true,className:classes.appbar},\"\\uD3B8\\uC9C0 \\uBCF4\\uB0B4\\uAE30\")));}","map":{"version":3,"sources":["/home/dongwoo/task/timeweb/front/src/interface/WriteMail.jsx"],"names":["React","useEffect","useDispatch","useSelector","useDropzone","makeStyles","Typography","Button","Paper","TextField","Grid","CreateIcon","PlusImg","useStyles","theme","paper","padding","spacing","margin","appbar","flexGrow","backgroundColor","menuButton","marginRight","title","lettertitle","marginTop","thumbsContainer","display","flexDirection","flexWrap","WriteMail","classes","dispatch","letter","state","rootReducer","openpage","useState","files","setFiles","forEach","file","URL","revokeObjectURL","preview","accept","onDrop","acceptedFiles","map","Object","assign","createObjectURL","type","img","getRootProps","getInputProps","thumbs","name","handleWriting","e","target","id","value","undefined"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useDropzone } from 'react-dropzone';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\nimport TextField from '@material-ui/core/TextField';\nimport Grid from '@material-ui/core/Grid';\nimport CreateIcon from '@material-ui/icons/Create';\nimport PlusImg from '../components/img/thumbnail.png'\n\nconst useStyles = makeStyles(theme => ({\n    paper: {\n        padding: theme.spacing(3, 2),\n        margin: theme.spacing(3),\n    },\n    appbar: {\n      flexGrow: 1,\n      backgroundColor: '#ffeb3b'\n    },\n    menuButton: {\n      marginRight: theme.spacing(2),\n    },\n    title: {\n      flexGrow: 1,\n    },\n    lettertitle: {\n        marginTop: 12,\n        padding: 6\n    }\n  }));\n\n  const thumbsContainer = {\n    display: 'flex',\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n  };\n\nexport default function WriteMail() {\n    const classes = useStyles();\n    const dispatch = useDispatch();\n    const letter = useSelector(state => state.rootReducer.letter, []);\n    const openpage = useSelector(state => state.rootReducer.openpage, []);\n    const [files, setFiles] = React.useState([]);\n\n    useEffect(() => () => {\n        // Make sure to revoke the data uris to avoid memory leaks\n        files.forEach((file) => URL.revokeObjectURL(file.preview));\n      }, [files]);\n\n      const { getRootProps, getInputProps } = useDropzone({\n        accept: 'image/*',\n        onDrop: (acceptedFiles) => {\n          setFiles(acceptedFiles.map((file) => Object.assign(file, {\n            preview: URL.createObjectURL(file),\n          })));\n          dispatch({ type: 'ADD_LETTER', letter:{ ...letter, img: acceptedFiles }})\n        },\n      });\n    \n      const thumbs = files.map((file) => (\n        <div key={file.name}>\n          <div>\n            <img\n              src={file.preview}\n              alt=\"\"\n              heigth=\"100%\"\n              width=\"100%\"\n            />\n          </div>\n        </div>\n      ));\n\n    const handleWriting = e => {\n        dispatch({ type: 'ADD_LETTER', letter:{ ...letter, [e.target.id]: e.target.value }})\n    }\n\n    return (\n        <div hidden={!(openpage.letter)}> \n            <Paper className={classes.paper}>\n                <Grid container className={classes.lettertitle}>\n                    <Typography variant=\"h4\">\n                        편지 쓰기\n                    </Typography>\n                    <CreateIcon />\n                </Grid>\n                <Grid container>\n                    <Grid item xs={3}>\n                        <Typography variant=\"h5\" className={classes.lettertitle}>\n                            제목\n                        </Typography>\n                    </Grid>\n                    <Grid item xs={9}>\n                        <TextField\n                        id=\"title\"\n                        placeholder=\"미래의 나에게!\"\n                        fullWidth\n                        margin=\"normal\"\n                        onChange={handleWriting}\n                        />\n                    </Grid>\n                </Grid>\n                <div {...getRootProps()}>\n                        <input {...getInputProps()} />\n                        {\n                            files[0] !== undefined\n                            ? (\n                                <aside style={thumbsContainer}>\n                                    {thumbs}\n                                </aside>\n                            ) :\n                            <img \n                            src={PlusImg}\n                            alt=\"사진을 끌어다 놓으시거나 클릭하시오\"\n                            heigth=\"100%\"\n                            width=\"100%\"\n                            />\n                        }\n                </div>\n                <TextField\n                id=\"body\"\n                placeholder=\"나는 과연 미래에 무엇을 하고 있을가??\"\n                margin=\"normal\"\n                fullWidth\n                variant=\"outlined\"\n                multiline\n                rows=\"20\"\n                rowsMax=\"20\"\n                onChange={handleWriting}\n                />\n                <Button variant=\"contained\" fullWidth className={classes.appbar}>\n                    편지 보내기\n                </Button>\n            </Paper>\n        </div>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}